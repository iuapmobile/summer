!function(e){e.$summer={},e.summer={},e.api=e.summer,function(){var r=document.location.pathname.split("www")[0]+"www/cordova.js";if(_script=document.createElement("script"),_script.id="cordova_js",_script.type="text/javascript",_script.charset="utf-8",_script.async=!0,_script.src=r,_script.onload=function(r){e.$summer.cordova=e.cordova,e.summer.cordova=e.cordova,document.addEventListener("deviceready",function(){summer.winParam(function(e){"string"==typeof e&&(e=$summer.strToJson(e)),summer.pageParam=e,"function"==typeof summerready&&summerready(),"function"==typeof summerReady&&summerReady()})},!1)},navigator.platform.toLowerCase().indexOf("win")<0)try{fs=document.getElementsByTagName("script")[0],fs.parentNode.insertBefore(_script,fs)}catch(e){console.log(e)}}(),navigator.platform.toLowerCase().indexOf("win")>-1&&document.addEventListener("DOMContentLoaded",function(){"function"==typeof summerready&&summerready(),"function"==typeof summerReady&&summerReady()},!1),e.summer.require=function(e){return window.$summer.cordova!=window.cordova&&(alert("---------warnning : init cordova is too late!"),window.$summer.cordova=window.cordova,window.summer.cordova=window.cordova),"cordova"==e?window.summer.cordova:window.summer.cordova.require(e)},e.summer.canrequire=function(){return!(navigator.platform.toLowerCase().indexOf("win")>-1)},e.$summer.require=e.summer.require}(window),function(){String.prototype.trim=function(){return this.replace(/(^\s*)|(\s*$)/g,"")},String.prototype.ltrim=function(){return this.replace(/(^\s*)/g,"")},String.prototype.rtrim=function(){return this.replace(/(\s*$)/g,"")},String.prototype.isNullOrEmpty=function(){return"undefined"==typeof this||null===this||"string"==typeof this&&""==this},Number.prototype.add=function(e){var r=function(e,r){var n,t,a;try{n=e.toString().split(".")[1].length}catch(e){n=0}try{t=r.toString().split(".")[1].length}catch(e){t=0}return a=Math.pow(10,Math.max(n,t)),(e*a+r*a)/a};return r(e,this)},Number.prototype.sub=function(e){return this.add(this,-e)},Number.prototype.mul=function(e){var r=function(e,r){var n=0,t=e.toString(),a=r.toString();try{n+=t.split(".")[1].length}catch(e){}try{n+=a.split(".")[1].length}catch(e){}return Number(t.replace(".",""))*Number(a.replace(".",""))/Math.pow(10,n)};return r(e,this)},Number.prototype.div=function(arg){var accDiv=function(arg1,arg2){var t1=0,t2=0,r1,r2;try{t1=arg1.toString().split(".")[1].length}catch(e){}try{t2=arg2.toString().split(".")[1].length}catch(e){}with(Math)return r1=Number(arg1.toString().replace(".","")),r2=Number(arg2.toString().replace(".","")),r1/r2*pow(10,t2-t1)};return accDiv(this,arg)},Array.prototype.remove=function(e){return isNaN(e)||e<0||e>=this.length?this:(this.splice(e,1),this)},Array.prototype.remove2=function(e){return isNaN(e)?this:e<0||e>=this.length?this:this.slice(0,e).concat(this.slice(e+1,this.length))},Array.prototype.remove3=function(e){if(isNaN(e)||e>this.length)return!1;for(var r=0,n=0;r<this.length;r++)this[r]!=this[e]&&(this[n++]=this[r]);this.length-=1},Array.prototype.insert=function(e,r){return this.splice(e,0,r)},Date.prototype.format=function(e){var r={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length)));for(var n in r)new RegExp("("+n+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?r[n]:("00"+r[n]).substr((""+r[n]).length)));return e}}(),function(){var e=window.$summer||{};/android/gi.test(navigator.appVersion);e.os=function(e){var r={info:function(){var e=navigator.userAgent;navigator.appVersion;return{webKit:e.indexOf("AppleWebKit")>-1,mobile:!!e.match(/AppleWebKit.*Mobile.*/),ios:!!e.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),android:e.indexOf("Android")>-1||e.indexOf("Linux")>-1,iPhone:e.indexOf("iPhone")>-1,iPad:e.indexOf("iPad")>-1,platform:navigator.platform}}(),lang:(navigator.browserLanguage||navigator.language).toLowerCase()};return r.info.platform.toLowerCase().indexOf("win")>=0?"pc":r.info.android?"android":r.info.ios||r.info.iPhone||r.info.iPad?"ios":""}(e),e.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)},e.isFunction=function(e){return"[object Function]"===Object.prototype.toString.call(e)},e.isEmptyObject=function(e){return"{}"===JSON.stringify(e)},e.alert=function(r){try{"string"==typeof r?alert(r):"object"==typeof r?alert(e.jsonToStr(r)):alert(r)}catch(e){alert(r)}},e.UUID=function(e){e=e||6,e=parseInt(e,10),e=isNaN(e)?6:e;for(var r="0123456789abcdefghijklmnopqrstubwxyzABCEDFGHIJKLMNOPQRSTUVWXYZ",n=r.length-1,t="";e--;)t+=r[Math.round(Math.random()*n)];return t},e.isJSONObject=function(e){return"[object Object]"===Object.prototype.toString.call(e)},e.isJSONArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)},e.isFunction=function(e){return"[object Function]"===Object.prototype.toString.call(e)},e.isEmpty=function(e){return!!(void 0==e||null==e||e.toString&&""==e.toString())},e.check=function(e,r,n){for(var t=0,a=r.length;t<a;t++)if(void 0==e[r[t]]||null==e[r[t]]){var i="参数["+r[t]+"]不能为空";return alert(n?n+i:i),!1}return!0},e.checkIfExist=function(e,r,n){for(var t=0,a=r.length;t<a;t++){var i=r[t];if(i in e&&$summer.isEmpty(e[i])){var o="参数["+r[t]+"]不能为空";return alert(n?n+o:o),!1}}return!0},e.isNamespace=function(e){if("undefined"==typeof e||null===e)return!1;if("string"==typeof e&&""==e)return!1;if(e.indexOf(".")<0||"."==e.substring(0,1)||"."==e.substring(e.length-1))return alert("包名非法，不包含.或以.开始结束"),!1;for(var r=e.split("."),n=0,t=r.length;n<t;n++){var a=r[n];if(""==a)return alert("非法的包名中连续含有两个."),!1;var i=/^[a-z]+([a-zA-Z_][a-zA-Z_0-9]*)*$/;if(!i.test(a))return alert("非法的包名"),!1}return!0},window.$isJSONObject=e.isJSONObject,window.$isJSONArray=e.isJSONArray,window.$isFunction=e.isFunction,window.$isEmpty=e.isEmpty,window.$summer=window.$summer||e}(),function(e){var r=e.$summer||{};r.isElement=function(e){return!(!e||1!=e.nodeType)},r.addEvt=function(e,n,t,a){return r.isElement(e)?(a=a||!1,void(e.addEventListener&&e.addEventListener(n,t,a))):void console.warn("$summer.addEvt Function need el param, el param must be DOM Element")},r.rmEvt=function(e,n,t,a){return r.isElement(e)?(a=a||!1,void(e.removeEventListener&&e.removeEventListener(n,t,a))):void console.warn("$summer.rmEvt Function need el param, el param must be DOM Element")},r.one=function(e,n,t,a){if(!r.isElement(e))return void console.warn("$api.one Function need el param, el param must be DOM Element");a=a||!1;var i=this,o=function(){t&&t(),i.rmEvt(e,n,o,a)};i.addEvt(e,n,o,a)},r.dom=function(e,r){if(1===arguments.length&&"string"==typeof arguments[0]){if(document.querySelector)return document.querySelector(arguments[0])}else if(2===arguments.length&&e.querySelector)return e.querySelector(r)},r.domAll=function(e,r){if(1===arguments.length&&"string"==typeof arguments[0]){if(document.querySelectorAll)return document.querySelectorAll(arguments[0])}else if(2===arguments.length&&e.querySelectorAll)return e.querySelectorAll(r)},r.byId=function(e){return document.getElementById(e)},r.first=function(e,n){return 1===arguments.length?r.isElement(e)?e.children[0]:void console.warn("$summer.first Function need el param, el param must be DOM Element"):2===arguments.length?this.dom(e,n+":first-child"):void 0},r.last=function(e,n){if(1===arguments.length){if(!r.isElement(e))return void console.warn("$summer.last Function need el param, el param must be DOM Element");var t=e.children;return t[t.length-1]}if(2===arguments.length)return this.dom(e,n+":last-child")},r.eq=function(e,r){return this.dom(e,":nth-child("+r+")")},r.not=function(e,r){return this.domAll(e,":not("+r+")")},r.prev=function(e){if(!r.isElement(e))return void console.warn("$api.prev Function need el param, el param must be DOM Element");var n=e.previousSibling;return n.nodeType&&3===n.nodeType?n=n.previousSibling:void 0},r.next=function(e){if(!r.isElement(e))return void console.warn("$api.next Function need el param, el param must be DOM Element");var n=e.nextSibling;return n.nodeType&&3===n.nodeType?n=n.nextSibling:void 0},r.closest=function(e,n){if(!r.isElement(e))return void console.warn("$api.closest Function need el param, el param must be DOM Element");var t,a,i=function(e,r){var n=0,t=e.length;for(n;n<t;n++)if(e[n].isEqualNode(r))return e[n];return!1},o=function(e,n){for(t=r.domAll(e.parentNode,n),a=i(t,e);!a;){if(e=e.parentNode,null!=e&&e.nodeType==e.DOCUMENT_NODE)return!1;o(e,n)}return a};return o(e,n)},r.contains=function(e,r){var n=!1;if(r===e)return n=!0;do if(r=r.parentNode,r===e)return n=!0;while(r===document.body||r===document.documentElement);return n},r.remove=function(e){e&&e.parentNode&&e.parentNode.removeChild(e)},r.attr=function(e,n,t){return r.isElement(e)?2==arguments.length?e.getAttribute(n):3==arguments.length?(e.setAttribute(n,t),e):void 0:void console.warn("$api.attr Function need el param, el param must be DOM Element")},r.removeAttr=function(e,n){return r.isElement(e)?void(2===arguments.length&&e.removeAttribute(n)):void console.warn("$api.removeAttr Function need el param, el param must be DOM Element")},r.hasCls=function(e,n){return r.isElement(e)?e.className.indexOf(n)>-1:void console.warn("$api.hasCls Function need el param, el param must be DOM Element")},r.addCls=function(e,n){if(!r.isElement(e))return void console.warn("$api.addCls Function need el param, el param must be DOM Element");if("classList"in e)e.classList.add(n);else{var t=e.className,a=t+" "+n;e.className=a}return e},r.removeCls=function(e,n){if(!r.isElement(e))return void console.warn("$api.removeCls Function need el param, el param must be DOM Element");if("classList"in e)e.classList.remove(n);else{var t=e.className,a=t.replace(n,"");e.className=a}return e},r.toggleCls=function(e,n){return r.isElement(e)?("classList"in e?e.classList.toggle(n):r.hasCls(e,n)?r.addCls(e,n):r.removeCls(e,n),e):void console.warn("$api.toggleCls Function need el param, el param must be DOM Element")},r.val=function(e,n){if(!r.isElement(e))return void console.warn("$api.val Function need el param, el param must be DOM Element");if(1===arguments.length)switch(e.tagName){case"SELECT":var t=e.options[e.selectedIndex].value;return t;case"INPUT":return e.value;case"TEXTAREA":return e.value}if(2===arguments.length)switch(e.tagName){case"SELECT":return e.options[e.selectedIndex].value=n,e;case"INPUT":return e.value=n,e;case"TEXTAREA":return e.value=n,e}},r.prepend=function(e,n){return r.isElement(e)?(e.insertAdjacentHTML("afterbegin",n),e):void console.warn("$api.prepend Function need el param, el param must be DOM Element")},r.append=function(e,n){return r.isElement(e)?(e.insertAdjacentHTML("beforeend",n),e):void console.warn("$api.append Function need el param, el param must be DOM Element")},r.before=function(e,n){return r.isElement(e)?(e.insertAdjacentHTML("beforebegin",n),e):void console.warn("$api.before Function need el param, el param must be DOM Element")},r.after=function(e,n){return r.isElement(e)?(e.insertAdjacentHTML("afterend",n),e):void console.warn("$api.after Function need el param, el param must be DOM Element")},r.html=function(e,n){return r.isElement(e)?1===arguments.length?e.innerHTML:2===arguments.length?(e.innerHTML=n,e):void 0:void console.warn("$api.html Function need el param, el param must be DOM Element")},r.text=function(e,n){return r.isElement(e)?1===arguments.length?e.textContent:2===arguments.length?(e.textContent=n,e):void 0:void console.warn("$api.text Function need el param, el param must be DOM Element")},r.offset=function(e){if(!r.isElement(e))return void console.warn("$api.offset Function need el param, el param must be DOM Element");var n,t;document.documentElement?(n=document.documentElement.scrollLeft,t=document.documentElement.scrollTop):(n=document.body.scrollLeft,t=document.body.scrollTop);var a=e.getBoundingClientRect();return{l:a.left+n,t:a.top+t,w:e.offsetWidth,h:e.offsetHeight}},r.css=function(e,n){return r.isElement(e)?void("string"==typeof n&&n.indexOf(":")>0&&e.style&&(e.style.cssText+=";"+n)):void console.warn("$api.css Function need el param, el param must be DOM Element")},r.cssVal=function(n,t){if(!r.isElement(n))return void console.warn("$api.cssVal Function need el param, el param must be DOM Element");if(2===arguments.length){var a=e.getComputedStyle(n,null);return a.getPropertyValue(t)}},r.jsonToStr=function(e){return"object"==typeof e?JSON&&JSON.stringify(e):void alert("$summer.jsonToStr's parameter is not a json, it's typeof is "+typeof e)},r.strToJson=function(e){return"string"==typeof e?JSON&&JSON.parse(e):void alert("$summer.strToJson's parameter is not a string, it's typeof is "+typeof e)},r.winWidth=function(){return document.documentElement.offsetWidth||document.body.offsetWidth},r.winHeight=function(){return document.documentElement.offsetHeight||document.body.offsetHeight},r.fixStatusBar=function(e){if(!r.isElement(e))return void alert("$summer.fixStatusBar Function need el param, el param must be DOM Element");if("ios"==$summer.os||"pc"==$summer.os){$(e).children().css("top","20px");var n=summer.systemVersion;parseInt(n,10),summer.fullScreen,summer.statusBarAppearance;e.style.paddingTop="20px",$(e).children().css("top","20px")}},r.toast=function(e,r,n){},r.post=function(){},r.get=function(){},e.$summer=e.$summer||r,e.$api=e.$summer}(window),+function(e,r){e.adrinvoker&&alert(e.adrinvoker);var n={};if(e.adrinvoker&&e.adrinvoker.call2&&alert(e.adrinvoker.call2),n.call=function(e,r){if(navigator.platform.toLowerCase().indexOf("win")>=0)return void alert("执行"+e+"完毕\n参数是："+r);r=r||"{}";var n=summer.require("summer-plugin-service.XService");n.call(e,$summer.strToJson(r))},n.call2=function(e,r){return navigator.platform.toLowerCase().indexOf("win")>=0?void alert("执行"+e+"完毕\n参数是："+r):"undefined"!=typeof summerBridge?summerBridge.callSync(e,r):void alert("summerBridge is not defined by native successfully!")},e.adrinvoker=n,"undefined"!=typeof CurrentEnvironment&&("ios"==$summer.os?CurrentEnvironment.DeviceType=CurrentEnvironment.DeviceIOS:"android"==$summer.os&&(CurrentEnvironment.DeviceType=CurrentEnvironment.DeviceAndroid)),"undefined"==typeof t)var t=function(e,r){return n.call2(e,r)};else alert("UM_callNativeService is exist! fatal error!"),alert(t);e.UM_callNativeService=t,"undefined"==typeof UM_callNativeServiceNoraml?UM_callNativeServiceNoraml=function(e,r){return n.call(e,r)}:(alert("UM_callNativeServiceNoraml is exist! fatal error!"),alert(UM_callNativeServiceNoraml)),e.UM_callNativeServiceNoraml=UM_callNativeServiceNoraml,r.callSync=function(e,r){var n=r;"object"==typeof r?n=JSON.stringify(r):"string"!=typeof r&&(n=r.toString());try{return summerBridge.callSync(e,n)}catch(e){if("pc"==$summer.os)return r;alert(e)}},r.callCordova=function(e,r,n,t,a){if(this.canrequire()&&!this.__debug){var i=this.cordova.require(e);i[r]?i[r](n,t,a):alert("the cordova plug["+e+"]'s method["+r+"] not implementation")}else console.log("the cordova plug["+e+"]'s method["+r+"] executed!")}}(window,summer),+function(e,r){r||(r={},e.summer=r),r.window={openFrame:function(e,r,n){return e.animation=e.animation||{},e.pageParam=e.pageParam||{},e.rect&&!e.position&&(e.position={},e.position.left=e.rect.x,e.position.top=e.rect.y,e.position.width=e.rect.w,e.position.height=e.rect.h),"auto"==e.position.width&&(e.position.width=$summer.offset(document.getElementsByTagName("body")[0]).w),"auto"==e.position.height&&(e.position.height=$summer.offset(document.getElementsByTagName("body")[0]).h),e.name&&!e.id&&(e.id=e.name),e.alert&&($summer.alert(e),delete e.alert),this.callCordova("summer-plugin-frame.XFrame","openFrame",e,r,n)},closeFrame:function(e,r,n){return this.callCordova("summer-plugin-frame.XFrame","closeFrame",e,r,n)},openFrameGroup:function(e,r,n){return this.callCordova("summer-plugin-frame.XFrame","openFrameGroup",e,r,n)},closeFrameGroup:function(e,r,n){return this.callCordova("summer-plugin-frame.XFrame","closeFrameGroup",e,r,n)},setFrameGroupAttr:function(e,r,n){return this.callCordova("summer-plugin-frame.XFrame","setFrameGroupAttr",e,r,n)},setFrameGroupIndex:function(e,r,n){return this.callCordova("summer-plugin-frame.XFrame","setFrameGroupIndex",e,r,n)},openWin:function(e,r,n){return this.callCordova("summer-plugin-frame.XFrame","openWin",e,r,n)},closeWin:function(e,r,n){return"string"==typeof e?e={id:e}:"undefined"==typeof e&&(e={}),this.callCordova("summer-plugin-frame.XFrame","closeWin",e,r,n)},closeToWin:function(e,r,n){return"string"==typeof e?e={id:e}:"undefined"==typeof e&&(e={}),this.callCordova("summer-plugin-frame.XFrame","closeToWin",e,r,n)},getSysInfo:function(e,n,t){"string"==typeof e&&(e=alert("parameter json is required json object type, but is string type"));var a=e||{systemType:"android",systemVersion:7,statusBarAppearance:!0,fullScreen:!0,pageParam:{param0:123,param1:"abc"},screenWidth:"",screenHeight:"",winId:"",winWidth:"",winHeight:"",frameId:"",frameWidth:"",frameHeight:"",appParam:""};return r.callSync("SummerDevice.getSysInfo",a)},setFrameAttr:function(e,n,t){if(r.canrequire())return r.cordova.require("summer-plugin-frame.XFrame").setFrameAttr(e,n,t)},winParam:function(e,n,t){if(r.canrequire())return r.cordova.require("summer-plugin-frame.XFrame").winParam(e,n,t)},frameParam:function(e,n,t){if(r.canrequire())return r.cordova.require("summer-plugin-frame.XFrame").frameParam(e,n,t)},setRefreshHeaderInfo:function(e,n,t){if(r.canrequire())return r.cordova.require("summer-plugin-frame.XFrame").setRefreshHeaderInfo(e,n,t)},refreshHeaderLoadDone:function(e,n,t){if(r.canrequire())return r.cordova.require("summer-plugin-frame.XFrame").refreshHeaderLoadDone(e,n,t)},setRefreshFooterInfo:function(e,n,t){if(r.canrequire())return r.cordova.require("summer-plugin-frame.XFrame").setRefreshFooterInfo(e,n,t)},refreshFooterLoadDone:function(e,n,t){if(r.canrequire())return r.cordova.require("summer-plugin-frame.XFrame").refreshFooterLoadDone(e,n,t)}},r.openFrame=r.window.openFrame,r.closeFrame=r.window.closeFrame,r.openWin=r.window.openWin,r.closeWin=r.window.closeWin,r.getSysInfo=r.window.getSysInfo,r.winParam=r.window.winParam,r.frameParam=r.window.frameParam,r.setFrameAttr=r.window.setFrameAttr,r.setRefreshHeaderInfo=r.window.setRefreshHeaderInfo,r.refreshHeaderLoadDone=r.window.refreshHeaderLoadDone,r.setRefreshFooterInfo=r.window.setRefreshFooterInfo,r.refreshFooterLoadDone=r.window.refreshFooterLoadDone,r.openFrameGroup=r.window.openFrameGroup,r.closeFrameGroup=r.window.closeFrameGroup,r.setFrameGroupAttr=r.window.setFrameGroupAttr,r.setFrameGroupIndex=r.window.setFrameGroupIndex,r.showProgress=function(e){if(r.canrequire()){var n=summer.require("summer-plugin-service.XService");e=e||{},n.call("UMJS.showLoadingBar",e)}},r.hideProgress=function(e){if(r.canrequire()){var n=summer.require("summer-plugin-service.XService");e=e||{},n.call("UMJS.hideLoadingBar",e)}},r.upload=function(e,r,n,t){var a=e.fileURL,i=e.type,o=e.params,c=new FileUploadOptions;c.fileKey="file",c.fileName=a.substr(a.lastIndexOf("/")+1),c.mimeType=i,c.params=o,c.httpMethod="POST",c.headers=t||"";var s=new FileTransfer,l=e.SERVER;s.upload(a,encodeURI(l),r,n,c)},r.eval=function(e){setTimeout("try{eval("+e+")}catch(e){alert(e)}",10)},r.execScript=function(e){if("object"==typeof e&&(e.script?e.script="try{"+e.script+"}catch(e){alert(e)}":alert("the parameter script of the execScript function is "+e.script)),r.canrequire())return this.callCordova("summer-plugin-frame.XFrame","execScript",e,null,null)};var n=function(e){return e=e||"localStorage","localStorage"==e?window.localStorage?window.localStorage:void alert("your device do not support the localStorage"):"sessionStorage"==e?window.sessionStorage?window.sessionStorage:void alert("your device do not support the sessionStorage"):"application"==e?{setItem:function(e,n){var t={key:e,value:n};return r.callSync("SummerStorage.writeApplicationContext",JSON.stringify(t))},getItem:function(e){var n={key:e};return r.callSync("SummerStorage.readApplicationContext",JSON.stringify(n))}}:"configure"==e?{setItem:function(e,n){var t={key:e,value:"string"==typeof n?n:JSON.stringify(n)};return r.callSync("SummerStorage.writeConfigure",JSON.stringify(t))},getItem:function(e){var n={key:e};return r.callSync("SummerStorage.readConfigure",JSON.stringify(n))}}:"window"==e?{setItem:function(e,n){var t={key:e,value:"string"==typeof n?n:JSON.stringify(n)};return r.callSync("SummerStorage.writeWindowContext",JSON.stringify(t))},getItem:function(e){var n={key:e};return r.callSync("SummerStorage.readWindowContext",JSON.stringify(n))}}:void 0};r.setStorage=function(e,r,t){var a=r;"object"==typeof a?(a=JSON.stringify(a),a="obj-"+a):a="str-"+a;var i=n(t);i&&i.setItem(e,a)},r.getStorage=function(e,r){var t=n(r);if(t){var a=t.getItem(e);if(!a)return;if(0===a.indexOf("obj-"))return a=a.slice(4),JSON.parse(a);if(0===a.indexOf("str-"))return a.slice(4)}},r.setAppStorage=function(e,n){return r.setStorage(e,n,"application")},r.getAppStorage=function(e){return r.getStorage(e,"application")},r.writeConfig=function(e,n){return r.setStorage(e,n,"configure")},r.readConfig=function(e){return r.getStorage(e,"configure")},r.setWindowStorage=function(e,n){return r.setStorage(e,n,"window")},r.getWindowStorage=function(e){return r.getStorage(e,"window")},r.rmStorage=function(e){var r=n();r&&e&&r.removeItem(e)},r.clearStorage=function(){var e=n();e&&e.clear()},r.sysInfo=function(e,n,t){if(r.canrequire())return r.cordova.require("summer-plugin-frame.XService").sysInfo(e,n,t)},r.addEventListener=function(e,n,t){if(r.canrequire())return r.cordova.require("summer-plugin-frame.XFrame").addEventListener(e,n,t)},r.getAppVersion=function(e){return r.callSync("XUpgrade.getAppVersion",e||{})},r.upgradeApp=function(e,n,t){return r.callCordova("summer-plugin-core.XUpgrade","upgradeApp",e,n,t)},r.getVersion=function(e){var n=r.callSync("XUpgrade.getVersion",e||{});return"string"==typeof n?JSON.parse(versionInfo):(alert("getVersion' return value is not string!"),n)},r.upgrade=function(e,n,t){return r.callCordova("summer-plugin-core.XUpgrade","upgrade",e,n,t)},r.exitApp=function(e,n,t){return r.callCordova("summer-plugin-core.XUpgrade","exitApp",e||{},n,t)},r.ajax=function(e,r,n){return"get"==e.type?cordovaHTTP.get(e.url||"",e.param||{},e.header||{},r,n):"post"==e.type?cordovaHTTP.post(e.url||"",e.param||{},e.header||{},r,n):void 0},r.get=function(e,r,n,t,a){return cordovaHTTP.get(e||"",r||{},n||{},t,a)},r.post=function(e,r,n,t,a){return cordovaHTTP.post(e||"",r||{},n||{},t,a)},r.call=function(e,r,n){return window.PhoneCaller.call(e,r,n)},r.getLocation=function(e,r){return navigator.geolocation.getCurrentPosition(e,r)},r.contacts={find:function(e,r,n){var t=new ContactFindOptions;t.filter=e.filter,t.multiple=e.multiple,t.desiredFields=[navigator.contacts.fieldType.id],t.hasPhoneNumber=e.hasPhoneNumber;var a=e.fieldType||[navigator.contacts.fieldType.displayName,navigator.contacts.fieldType.name];return navigator.contacts.find(a,r,n,t)},save:function(e,r,n){var t=navigator.contacts.create();return t.displayName=e.displayName,t.nickname=e.nickName,t.save(r,n)}}}(window,summer),+function(w,s){w.$__cbm=[],s||(s={},w.summer=s),s.service={call:function(serviceType,jsonArgs,isSync){try{jsonArgs=jsonArgs||{};var serviceparams="";if("string"==typeof jsonArgs){var json=$summer.strToJson(jsonArgs);if("string"==typeof json)return void alert("调用服务["+serviceType+"]时参数不是一个有效的json字符串。参数是"+jsonArgs);if(serviceparams=$summer.jsonToStr(json),"object"==typeof serviceparams)return void alert("调用服务["+serviceType+"]时传递的参数不能标准化为json字符串，请检查参数格式。参数是"+jsonArgs)}else{if("object"!=typeof jsonArgs)return void alert("调用$service.call("+serviceType+", jsonArgs, "+isSync+")时不合法,参数jsonArgs类型为"+typeof jsonArgs);if(jsonArgs.callback&&$summer.isFunction(jsonArgs.callback)&&!jsonArgs.__keepCallback){for(var newCallBackScript="fun"+$summer.UUID(8,16)+"()";$__cbm[newCallBackScript];)newCallBackScript="fun"+$summer.UUID(8,16)+"()";$__cbm[newCallBackScript]=jsonArgs.callback,window[newCallBackScript.substring(0,newCallBackScript.indexOf("("))]=function(e,r){try{void 0==r&&(r=e);var n=$__cbm[newCallBackScript];n(e,r)}catch(e){alert(e)}finally{delete $__cbm[newCallBackScript],delete window[newCallBackScript.substring(0,newCallBackScript.indexOf("("))]}},jsonArgs.callback=newCallBackScript}else if(jsonArgs.callback&&"string"==typeof jsonArgs.callback&&!jsonArgs.__keepCallback){var cbName=jsonArgs.callback.substring(0,jsonArgs.callback.indexOf("(")),callbackFn=eval(cbName);if("function"!=typeof callbackFn)return void alert(cbName+" is not a global function, callback function must be a global function!");for(var newCallBackScript="fun"+$summer.UUID(8,16)+"()";window[newCallBackScript];)newCallBackScript="fun"+$summer.UUID(8,16)+"()";window[newCallBackScript.substring(0,newCallBackScript.indexOf("("))]=function(e,r){try{void 0==r&&(r=e),callbackFn(e,r)}catch(e){alert(e)}finally{delete window[newCallBackScript.substring(0,newCallBackScript.indexOf("("))]}},jsonArgs.callback=newCallBackScript}if(s.service.callBackProxy(jsonArgs,"error"),serviceparams=$summer.jsonToStr(jsonArgs),"object"==typeof serviceparams)return void alert("调用服务["+serviceType+"]时传递的参数不能标准化为json字符串，请检查参数格式"+jsonArgs)}return isSync?adrinvoker.call2(serviceType,serviceparams):adrinvoker.call(serviceType,serviceparams)}catch(e){var info="";info=isSync?'调用$service.call("'+serviceType+'", jsonArgs, '+isSync+")时发生异常,请检查!":'调用$service.call("'+serviceType+'", jsonArgs)时发生异常,请检查!',console.log(info),alert(info+", 更多请查看console日志;\n错误堆栈信息为:\n"+e.stack)}},callBackProxy:function(jsonArgs,callback_KEY){if(jsonArgs[callback_KEY]&&"function"==typeof jsonArgs[callback_KEY]){for(var newCallBackFnName=callback_KEY+$summer.UUID(8,16);$__cbm[newCallBackFnName];)newCallBackFnName=callback_KEY+$summer.UUID(8,16);$__cbm[newCallBackFnName]=jsonArgs[callback_KEY],window[newCallBackFnName]=function(e,r){try{void 0==r&&(r=e);var n=jsonArgs[callback_KEY];n(e,r)}catch(e){alert(e)}finally{delete $__cbm[newCallBackFnName],delete window[newCallBackFnName]}},jsonArgs[callback_KEY]=newCallBackFnName+"()"}else if(jsonArgs[callback_KEY]&&"string"==typeof jsonArgs[callback_KEY]){var cbName=jsonArgs[callback_KEY].substring(0,jsonArgs[callback_KEY].indexOf("(")),callbackFn=eval(cbName);if("function"!=typeof callbackFn)return void alert(cbName+" is not a global function, callback function must be a global function!");for(var newCallBackFnName=callback_KEY+$summer.UUID(8,16);window[newCallBackFnName];)newCallBackFnName=callback_KEY+$summer.UUID(8,16);window[newCallBackFnName]=function(e,r){try{void 0==r&&(r=e),callbackFn(e,r)}catch(e){alert(e)}finally{delete window[newCallBackFnName]}},jsonArgs[callback_KEY]=newCallBackFnName+"()"}},callAction:function(e,r,n,t,a,i,o){if(1==arguments.length&&"object"==typeof arguments[0]){var c={};c=e;var l={viewid:"xxx.xxx.xx",action:"methodName",autoDataBinding:!0,contextmapping:"fieldPath",callback:"actionid",error:"errorActionId"};for(key in c)l.hasOwnProperty(key)||"string"!=typeof c[key]||(c[key]=$summer.strToJson(c[key]));return s.callService("UMService.callAction",c,!1)}var c={};if(c.viewid=e,c.action=r,c.params=n,c.isDataCollect=t,c.callback=a,c.contextmapping=i,o)for(key in o)c[key]=o[key];return s.callService("UMService.callAction",c)}},s.callService=s.service.call,s.callAction=s.service.callAction,s.UMDevice={writeFile:function(e,r){var n={};return e&&(n.path=e),r&&(n.content=r),s.callService("UMFile.write",n,!1)},readFile:function(e){var r="",n={};if(e&&(n.path=e),r=s.callService("UMFile.read",n,!0),!r||""==r)return null;try{return r}catch(e){return r}},openCamera:function(e){if($summer.checkIfExist(e,["callback","compressionRatio"]))return s.callService("UMDevice.openCamera",e,!1)},getTimeZoneID:function(){return s.callService("UMDevice.getTimeZoneID","",!0)},getTimeZoneDisplayName:function(){return s.callService("UMDevice.getTimeZoneDisplayName",{},!0)},getLocation:function(e){var r={};if(1!=arguments.length||!$summer.isJSONObject(arguments[0]))return void alert("调用capturePhoto服务时，参数不是一个有效的JSONObject");r=e;var n=s.callService("UMDevice.getLocation",r),t="";return"string"==typeof n&&(t="状态为"+n+", 可以通过callback获取返回值"),t}},s.UMFile={remove:function(e){return s.callService("UMFile.remove",e,!1)},exists:function(e){return s.callService("UMFile.exists",e,!0)},download:function(e){return $summer.isEmpty(e.url)&&alert("参数url不能为空"),$summer.isEmpty(e.filename)&&alert("参数filename不能为空"),$summer.isEmpty(e.locate)&&alert("参数locate不能为空"),$summer.isEmpty(e.override)&&alert("参数override不能为空"),$summer.isEmpty(e.callback)&&alert("参数callback不能为空 "),e.__keepCallback=!0,s.callService("UMFile.download",e)},open:function(e){return $summer.isJSONObject(e)||alert("调用$file.open方法时，参数不是一个有效的JSONObject"),s.callService("UMDevice.openFile",e,!1)},getFileInfo:function(e){var r=e;return"string"==typeof e&&(r={path:e}),s.callService("UMFile.getFileInfo",r,!0)}},s.writeFile=s.UMDevice.writeFile,s.readFile=s.UMDevice.readFile,s.openCamera=s.UMDevice.openCamera,s.getTimeZoneID=s.UMDevice.getTimeZoneID,s.getTimeZoneDisplayName=s.UMDevice.getTimeZoneDisplayName,s.getLocation=s.UMDevice.getLocation}(window,summer),function(e,r,n,t){r.umRef=function(){};var a={refs:{},exec:function(e,r){this.refs[e].callback(r),delete this.refs[e]}};r.openRef=function(e,i){var o=new r.umRef,c=r.getSysInfo();o.param={ref_id:"Fn"+n.UUID(),ref_winId:c.winId,ref_frameId:c.frameId,ref_callBack:t+".refCallBack"},o.callback=i,a.refs[o.param.ref_id]=o,e.pageParam=e.pageParam||{},e.pageParam.refParam=o.param,r.openWin(e)},r.refCallBack=function(e,r){a.exec(e,r)},r.comleteRef=function(e){var n=e;"object"==typeof e?n=JSON.stringify(e):"string"==typeof e&&(n="'"+e+"'");var t={};t.um_refId=r.pageParam.refParam.ref_id,t.um_winId=r.pageParam.refParam.ref_winId,t.um_frameId=r.pageParam.refParam.ref_frameId,t.um_callBack=r.pageParam.refParam.ref_callBack,r.execScript({winId:t.um_winId,frameId:t.um_frameId,script:t.um_callBack+"('"+t.um_refId+"',"+n+");"}),r.closeWin()}}(window,summer,$summer,"summer");