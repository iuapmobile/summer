function uuid(e,t){var r,n="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),i=[];if(t=t||n.length,e)for(r=0;r<e;r++)i[r]=n[0|Math.random()*t];else{var a;for(i[8]=i[13]=i[18]=i[23]="-",i[14]="4",r=0;r<36;r++)i[r]||(a=0|16*Math.random(),i[r]=n[19==r?3&a|8:a])}return i.join("")}function Sys$Enum$parse(e,t){var r=Function._validateParams(arguments,[{name:"value",type:String},{name:"ignoreCase",type:Boolean,optional:!0}]);if(r)throw r;var n,i,a;if(t){if(n=this.__lowerCaseValues,!n){this.__lowerCaseValues=n={};var o=this.prototype;for(var s in o)n[s.toLowerCase()]=o[s]}}else n=this.prototype;if(this.__flags){for(var c=(t?e.toLowerCase():e).split(","),l=0,v=c.length-1;v>=0;v--){var u=c[v].trim();if(i=n[u],"number"!=typeof i)throw Error.argument("value",String.format(Sys.Res.enumInvalidValue,e.split(",")[v].trim(),this.__typeName));l|=i}return l}if(a=t?e.toLowerCase():e,i=n[a.trim()],"number"!=typeof i)throw Error.argument("value",String.format(Sys.Res.enumInvalidValue,e,this.__typeName));return i}function Sys$Enum$toString(e){var t=Function._validateParams(arguments,[{name:"value",mayBeNull:!0,optional:!0}]);if(t)throw t;if("undefined"==typeof e||null===e)return this.__string;if("number"!=typeof e||e%1!==0)throw Error.argumentType("value",Object.getType(e),this);var r,n=this.prototype;if(this.__flags&&0!==e){var i=this.__sortedValues;if(!i){i=[];for(r in n)i[i.length]={key:r,value:n[r]};i.sort(function(e,t){return e.value-t.value}),this.__sortedValues=i}var a=[],o=e;for(r=i.length-1;r>=0;r--){var s=i[r],c=s.value;if(0!==c&&(c&e)===c&&(a[a.length]=s.key,o-=c,0===o))break}if(a.length&&0===o)return a.reverse().join(", ")}else for(r in n)if(n[r]===e)return r;throw Error.argumentOutOfRange("value",e,String.format(Sys.Res.enumInvalidValue,e,this.__typeName))}function Sys$Component$get_id(){return this._id}function UMP$Sys$_Application$findComponent(e,t){return t?(alert("Exception in the Method[UMP$Sys$_Application$findComponent]"),Sys.Application._components[e]||null):Sys.Application._components[e]||null}function Sys$EventHandlerList$addHandler(e,t){Array.add(this._getEvent(e,!0),t)}function Sys$EventHandlerList$removeHandler(e,t){var r=this._getEvent(e);r&&Array.remove(r,t)}function Sys$EventHandlerList$getHandler(e){var t=this._getEvent(e);return t&&0!==t.length?(t=Array.clone(t),t._handler||(t._handler=function(e,r){for(var n=0,i=t.length;n<i;n++)t[n](e,r)}),t._handler):null}function Sys$EventHandlerList$_getEvent(e,t){if(!this._list[e]){if(!t)return null;this._list[e]=[]}return this._list[e]}function Sys$UI$DomEvent$preventDefault(){if(0!==arguments.length)throw Error.parameterCount();this.rawEvent.preventDefault?this.rawEvent.preventDefault():window.event&&(window.event.returnValue=!1)}function Sys$UI$DomEvent$stopPropagation(){if(0!==arguments.length)throw Error.parameterCount();this.rawEvent.stopPropagation?this.rawEvent.stopPropagation():window.event&&(window.event.cancelBubble=!0)}function UMP$UI$Container$SysHelper$navigate(e){if(CurrentEnvironment.DeviceType==CurrentEnvironment.DeviceIOS)UM_SysNavigate(e);else if(adrinvoker)adrinvoker.call("UMView.open","{viewid:'"+e+"'}");else{var t="adrinvoker is undefined; navigate is executing, the parameter viewid is ["+e+"]";alert(t)}}function UMP$UI$Container$SysHelper$callAction(e,t){if(t){var r={};"undefined"!=typeof $document?r.document=$document.dataToString():r.document={};try{r.context=jsonToString(t),_$sys.push(r)}catch(n){alert(n.stack)}}if(CurrentEnvironment.DeviceType==CurrentEnvironment.DeviceIOS)UM_SysCallAction(e);else if(adrinvoker)adrinvoker.call("UMJS.callAction","{actionid:'"+e+"'}");else{var i="adrinvoker is undefined; callAction is executing, the parameter action is ["+e+"]";alert(i)}}function UMP$UI$Container$SysHelper$cancelPush(e){return"undefined"==typeof e?this._cancelpush:void(this._cancelpush=e)}function UMP$UI$Container$SysHelper$push(e){if(CurrentEnvironment.DeviceType==CurrentEnvironment.DeviceIOS){var t=jsonToString(e);UM_NativeCall.callService("UMJS.push",t)}else{var t=jsonToString(e);if(adrinvoker)adrinvoker.call("UMJS.push",t);else{var r="adrinvoker is undefined; push is executing, the parameter jsonArgs is ["+t+"]";alert(r)}}}function UMP$UI$Container$SysHelper$version(e){return"undefined"==typeof e?this._version:void(this._version=e)}function UMP$UI$Container$SysHelper$pull(){}function UMP$Services$Controls$get(e,t){var r={};r.id=e,r.propertyName=t;var n=$jsonToString(r),i=$service.callService("UMJS.getProperty",n,!0),a="$$UErrMsg$";return null!=i&&0==i.indexOf(a)?(alert(i.substring(a.length)),""):i}function UMP$Services$Controls$set(e,t,r){var n={};n.id=e,n[t]=r;var i=$jsonToString(n);return $service.callService("UMJS.setProperty",i,!1)}function UMP$Services$Controls$insert(e){return $isJSONObject(e)||alert("the paramter of insert requires a JSONObject"),null==e.id&&alert("insert方法必须指定参数id，即控件的id"),$service.call("UMJS.insert",e,!1)}function UMP$Services$Controls$focus(e){return $isJSONObject(e)||alert("the paramter of focus requires a JSONObject"),null==e.id?void alert("focus方法必须指定参数id，即控件的id"):$service.callService("UMJS.focus",e,!1)}function UMP$Services$Controls$blur(e){return $isJSONObject(e)||alert("the paramter of blur requires a JSONObject"),null==e.id?void alert("focus方法必须指定参数id，即控件的id"):$service.callService("UMJS.blur",e,!1)}function UMP$Services$Controls$invoke(e){return $isJSONObject(e)||alert("the paramter of invoke requires a JSONObject"),null==e.id?void alert("invoke方法必须指定参数id，即控件的id"):$service.call("UMJS.invoke",e,!1)}function UMP$UI$Container$Dom$set(e,t,r,n){if(CurrentEnvironment.DeviceType==CurrentEnvironment.DeviceIOS)UM_setControlAttribute(e,attrName,attrValue);else{var i={status:t,tag:r,attributes:n},a={id:i},o=$jsonToString(a);adrinvoker.call("UMJS.setProperty",o)}}function UMP$UI$Container$Dom$push(e){for(id in e._tree)this.set(id,e[id])}function UMP$UI$Container$Dom$pull(){}function getController(controllername){return eval("(new "+controllername+"())")}function setControlValue(e,t,r){return UM_setControlAttribute(e,t,r)}function getModel(e){return jsonToString($UMP$getMM().get(e))}function updateModel(e,t){$UMP$getMM().get(e).set(stringToJSON(t))}function bindEvent(eventname,filedname,modelname){modelname="CustomerSubmit",$UMP$getMM().get(modelname).bind(eventname,filedname,function(a,value,params){var eventobject={};eventobject.data=a.changed,eval('eventobject.source={"'+eventname+'":"'+modelname+"."+filedname+'"}'),CurrentEnvironment.DeviceType==CurrentEnvironment.DeviceIOS?UM_CallAction("","dispacherEventToWeView",jsonToString(eventobject)):dispacherEventAndroid(jsonToString(eventobject))})}function dispacherEventAndroid(e){}function UMP$Services$Calendar$getToToday(e){var t={};t.id=e;var r=$jsonToString(t);return $service.call(this._getToToday,r)}function UMP$Services$Calendar$getMonthChange(e,t,r,n,i,a,o){var s={};if(s.viewid=e,s.action=t,s.params=r,s.isDataCollect=n,s.callback=i,s.contextmapping=a,o)for(key in o)s[key]=o[key];var c=$jsonToString(s);return $service.call(this._getMonthChange,c)}function UMP$Services$Calendar$getDayChange(e,t,r,n,i,a,o){var s={};if(s.viewid=e,s.action=t,s.params=r,s.isDataCollect=n,s.callback=i,s.contextmapping=a,o)for(key in o)s[key]=o[key];var c=$jsonToString(s);return $service.call(this._getDayChange,c)}function UMP$Services$Calendar$getCalendarTitle(e){var t={};t.id=e;var r=$jsonToString(t);return $service.call(this._getCalendarTitle,r)}function UMP$UI$Container$UMCtx$push(e,t){this._setUMContext(e,t)}function UMP$UI$Container$UMCtx$dataBind(e){return $service.call(this._UMCtx_dataBind,"undefined"==typeof e?{}:e,!1)}function UMP$UI$Container$UMCtx$dataCollect(e){return $service.call(this._UMCtx_dataCollect,"undefined"==typeof e?{}:e,!0)}function UMP$UI$Container$UMCtx$put(e,t){this._setValue(e,t)}function UMP$UI$Container$UMCtx$put2(e,t){var r=this.getJSONObject();r[e]=t,this.push(r)}function UMP$UI$Container$UMCtx$get(e){return this._getValue(this._expr(e))}function UMP$UI$Container$UMCtx$getString(e){var t=this.get(e);return"string"==typeof t?t:$jsonToString(t)}function UMP$UI$Container$UMCtx$getJSONObject(e){var t=this.get(e),r=$stringToJSON(t);return $isJSONObject(r)?r:alert("执行UMCtx.getJSONObject("+("undefined"==typeof e?"":e)+")的返回值不是一个有效的JSONObject，其值为"+t)}function UMP$UI$Container$UMCtx$getJSONArray(e){var t=this.get(e),r=$stringToJSON(t);return $isJSONArray(r)?r:alert("执行UMCtx.getJSONArray("+("undefined"==typeof e?"":e)+")的返回值不是一个有效的JSONArray，其值为"+t)}function UMP$UI$Container$UMCtx$param(e){var t=this.params();return $isJSONObject(t)?t[e]:void alert("当前Context中没有参数名为"+e+"的参数值")}function UMP$UI$Container$UMCtx$params(){var e=this.getJSONObject();if(!e)return alert("当前获取的Context为null"),null;var t=e.parameter;if(!t)return alert("当前Context的parameter为null"),null;try{return t=$stringToJSON(t)}catch(r){return alert("未能正确获取参数["+paramName+"],当前Context的Parameter为"+t),alert(r),null}}function UMP$UI$Container$UMCtx$getApp(e){if("string"!=typeof e)return void alert("getApp方法参数不是一个有效的字符串类型，请正确指定参数key");var t="#{app."+e+"}";return this._getValue(t)}function UMP$UI$Container$UMCtx$setApp(e,t){if("undefined"==typeof t&&(t=!0),!$isJSONObject(e))return void alert('setApp方法参数不是一个有效的JSONObject，请正确指定其参数为JSONObject类型，例如{"name":"xxx", "code":"C001"}');var r=e,n=$jsonToString(r);return $service.call(this._UMCtx_setAppValue,n,t)}function UMP$UI$Container$UMCtx$_getValue(e,t,r){if($__isdebug())return this._getValue4debug(e,t,r);"undefined"==typeof r&&(r=!0);var n={};n.expr=e,"undefined"!=typeof t&&(n["default"]=t);var i=$jsonToString(n);return $service.call(this._UMCtx_getValue,i,r)}function UMP$UI$Container$UMCtx$_getValue4debug(e,t,r){if("#{CONTEXT}"==e)return $$__debug_ctx;if(e.indexOf("#{plug.")>=0){var n=$$__debug_ctx.parameter;if(n){var i=e.substring(e.indexOf("#{plug.")+7,e.indexOf("}"));return n[i]}}else if(!(e.indexOf("#{app.")>=0)){var a=e.substring(e.indexOf("#{")+2,e.indexOf("}"));return $$__debug_ctx[a]}}function UMP$UI$Container$UMCtx$_setValue(e,t,r){if($__isdebug())return this._setValue4debug(e,t,r);var n={};n.expr=e,n.value=t,t instanceof Array?n.valueDataType="JSONArray":"object"==typeof t?n.valueDataType="JSONObject":n.valueDataType="String",n.isDataBinding=!1,$service.call(this._UMCtx_setValue,n,!0)}function UMP$UI$Container$UMCtx$_setValue4debug(e,t,r){$$__debug_ctx[e]=t}function UMP$UI$Container$UMCtx$_setUMContext(e,t){if($__isdebug())return this._setUMContext4debug(e,t);var r={};if("UMP.UI.Mvc.Context"==e.__baseClass)try{r=e.unload()}catch(n){var i="尝试setContext，但是参数ctx不是一个有效的Context类型";$console.log(i),alert(i+",更多请查看console日志")}else"object"==typeof e?r=e:"string"==typeof e&&(r=e);var a={};a.context=r,a.isDataBinding=!1,$service.call(this._UMCtx_setUMContext,a,!0),"undefined"!=typeof t&&1!=t||$service.call(this._UMCtx_dataBind,{},!1)}function UMP$UI$Container$UMCtx$_setUMContext4debug(e,t){$$__debug_ctx=e}function UMP$UI$Container$UMCtx$_setAppValue(e,t){"undefined"==typeof t&&(t=!0);var r=e,n=$jsonToString(r);return $service.call(this._UMCtx_setAppValue,n,t)}function UMP$UI$Container$UMCtxParameter$get(e){"undefined"==typeof e&&(e="arguments");var t="#{plug."+e+"}";return this._ctx._getValue(t)}function UMP$UI$Container$UMCtxParameter$getString(e){var t=this.get(e);return"object"==typeof t?$jsonToString(t):t}function UMP$UI$Container$UMCtxParameter$getJSONObject(e){var t=this.get(e);return"string"==typeof t?$stringToJSON(t):t}function UMP$UI$Container$UMCtxParameter$getJSONArray(e){var t=this.get(e);return"string"==typeof t?$stringToJSON(t):t instanceof Array?t:(alert("参数["+e+"]不是有效的数组类型，返回为null"),null)}function UMP$UI$Container$UMCtxParameter$ctx(e){this._ctx=e}function UMP$Services$Cache$get(e){if($environment.DeviceType==$environment.DeviceIOS)return $service.reStore();if($environment.DeviceType==$environment.DeviceAndroid){var t={};e&&(t.charset=e);var r=$jsonToString(t),n=UM_NativeCall.callService("UMFile.read",r,!0);return n}}function UMP$Services$Cache$set(e,t,r,n){if($environment.DeviceType==$environment.DeviceIOS)alert("Cache API [push] no implementation...pls consult the IOS developer of UMP");else if($environment.DeviceType==$environment.DeviceAndroid){var i={};e&&(i.content=e),t&&(i.append=t),r&&(i.charset=r);var a=$jsonToString(i);return"undefined"==typeof n?UM_NativeCall.callService("UMFile.write",a,!0):UM_NativeCall.callService("UMFile.write",a,n)}}function UMP$Services$Cache$write2(e,t,r,n,i){if($environment.DeviceType==$environment.DeviceIOS){var a=t;"string"!=typeof t&&(a=$jsonToString(t)),UM_callNativeService(this._store,e,a)}else if($environment.DeviceType==$environment.DeviceAndroid){var o={},s=$cache.get();s||(s={}),s[e]=t,o.content=s,r&&(o.append=r),n&&(o.charset=n);var a=$jsonToString(o);return"undefined"==typeof i?UM_NativeCall.callService("UMFile.write",a,!0):UM_NativeCall.callService("UMFile.write",a,i)}}function UMP$Services$Cache$read2(e,t,r){var n="";if($environment.DeviceType==$environment.DeviceIOS)n=UM_callNativeService(this._restore,e);else if($environment.DeviceType==$environment.DeviceAndroid){var i={};t&&(i.maxlength=t),r&&(i.charset=r);var a=$jsonToString(i);n=UM_NativeCall.callService("UMFile.read",a,!0)}if(!n||""==n)return null;try{var o=$stringToJSON(n);return o[e]}catch(s){return null}}function UMP$Services$Cache$writeFile(e,t,r,n,i){if($isJSONObject(e))return $service.call("UMFile.write",e,!0);if($environment.DeviceType==$environment.DeviceIOS){var a=t;return"string"!=typeof t&&(a=$jsonToString(t)),UM_callNativeService(this._store,e,a)}if($environment.DeviceType==$environment.DeviceAndroid){var o={};return $isJSONObject(r)&&3==arguments.length?(o=r,e&&(o.path=e),t&&(o.content=t)):(e&&(o.path=e),t&&(o.content=t),r&&(o.append=r),n&&(o.charset=n)),"undefined"==typeof i?UM_NativeCall.callService("UMFile.write",o,!0):UM_NativeCall.callService("UMFile.write",o,i)}}function UMP$Services$Cache$readFile(e,t,r){var n="";if($environment.DeviceType==$environment.DeviceIOS)n=UM_callNativeService(this._restore,e);else if($environment.DeviceType==$environment.DeviceAndroid){var i={};e&&(i.path=e),t&&(i.maxlength=t),r&&(i.charset=r);var a=$jsonToString(i);n=UM_NativeCall.callService("UMFile.read",a,!0)}if(!n||""==n)return null;try{return n}catch(o){return n}}function UMP$Services$Sqlite$execSql(e){return $isJSONObject(e)?$isEmpty(e.db)?void alert("请输入参数db"):$isEmpty(e.sql)?void alert("请输入参数sql"):$service.call(this.UMSQLite_execSql,e,!0):void alert("参数不是一个有效的JSONObject，请使用execSql({...})形式的API")}function UMP$Services$Sqlite$query(e){return $isJSONObject(e)?$service.call(this.UMSQLite_query,e,!0):void alert("参数不是一个有效的JSONObject，请使用query({...})形式的API")}function UMP$Services$Sqlite$queryByPage(e){return $isJSONObject(e)?($isEmpty(e.pageSize)&&(e.pageSize=10),$isEmpty(e.pageIndex)&&(e.pageIndex=0),$service.call(this.UMSQLite_queryByPage,e,!0)):void alert("参数不是一个有效的JSONObject，请使用queryByPage({...})形式的API")}function UMP$Services$Sqlite$exist(e){return $isJSONObject(e)?$isEmpty(e.db)?void alert("请输入参数db"):$service.call(this.UMSQLite_exist,e,!0):void alert("参数不是一个有效的JSONObject，请使用exist({...})形式的API")}function UMP$Services$Network$isConnect(){var e=!1;return $environment.DeviceType==$environment.DeviceIOS?e=$service.call(this.um_IsConnect,{},!0):$environment.DeviceType==$environment.DeviceAndroid&&(e=$service.call(this.UMNetwork_isAvailable,{},!0)),null!=e&&"true"==e.toString().toLowerCase()}function UMP$Services$Network$available(){return this.isConnect()}function UMP$Services$Network$networkState(){var e=$service.call(this.UMNetwork_networkState,{},!0);return"String"==typeof e?$stringToJSON(e):e}function UMP$Services$Network$getNetworkInfo(){var e=$service.call(this.UMNetwork_getNetworkInfo,{},!0);return"String"==typeof e?$stringToJSON(e):e}function UMP$Services$Console$log(e){__debugger&&(CurrentEnvironment.DeviceType==CurrentEnvironment.DeviceIOS||console&&console.log("__________"+e))}function UMP$Services$Console$alert(e){__debugger&&(CurrentEnvironment.DeviceType==CurrentEnvironment.DeviceIOS?$alert(e):$alert(e))}function UMP$Services$Resource$getResString(e,t){"undefined"==typeof t&&(t=!0);var r="";return CurrentEnvironment.DeviceType==CurrentEnvironment.DeviceIOS?r=UM_callNativeService(this._getResString,e):CurrentEnvironment.DeviceType==CurrentEnvironment.DeviceAndroid&&(r=$service.call("UMService.getResString","{resname:'"+e+"'}",t)),r}function UMP$Services$UMView$open2(e){if(e){var t=e.viewid;null==t||""==t?alert("没有指定参数viewid"):$service.call("UMView.open",e)}}function UMP$Services$UMView$open(e){if(e){var t=e.viewid;if(null==t||""==t)alert("没有指定参数viewid");else if($validator.isNamespace){var r=t.indexOf("。");if(r>=0)return void alert("执行$view.open时，\n参数viewid["+t+"]的第"+(r+1)+"个字母是中文点");if(r=t.indexOf("。"),r>=0)return void alert("执行$view.open时，\n参数viewid["+t+"]的第"+(r+1)+"个字母是中文点");if(r=t.indexOf(" "),r>=0)return void alert("执行$view.open时，\n参数viewid["+t+"]的第"+(r+1)+"个字母是空格");var n=t.substring(0,t.lastIndexOf("."));$validator.isNamespace(n)?$service.call("UMView.open",e):alert("$view.open执行失败")}else $service.call("UMView.open",e)}}function UMP$Services$UMView$close(e){"undefined"==typeof e&&(e={resultcode:0}),$isJSONObject(e)?$service.call("UMView.close",e):alert("请使用close({...})或close()形式的API")}function UMP$Services$UMView$closeWithCallBack(e){"undefined"==typeof e&&(e={resultcode:15}),$isJSONObject(e)?(e.resultcode="15",$service.call("UMView.close",e)):alert("请使用close({...})或close()形式的API")}function UMP$Services$UMView$launcher(e){return"undefined"==typeof e?$service.readConfig("customuaplauncher"):$service.writeConfig({customuaplauncher:e})}function UMP$Services$UMView$openPop(e){e&&$service.call("UMView.openPop",e)}function UMP$Services$UMView$closePop(e){e&&$service.call("UMView.closePop",e)}function UMP$Services$UMView$openDialog(e){e&&(null==e.style||""==e.style?e.style="ok":"text-dialog"==e.style&&(null!=e.bindfield&&""!=e.bindfield||(e.bindfield="bindfield")),$service.call("UMView.openDialog",e))}function UMP$Services$UMView$openReference(e){e&&$service.call("UMView.openReference",e)}function UMP$Services$UMView$openPicker(e){e&&$service.call("UMView.openPicker",e)}function UMP$Services$UMView$alert(e){var t={title:"确认",style:"ok",message:e};return this.openDialog(t)}function UMP$Services$UMView$confirm(e){var t={title:"确认",style:"ok-cancel",message:e};return this.openDialog(t)}function UMP$Services$UMView$changePage(e,t){return e?(t=t||{},t.url=e,void $service.call("UMView.changePage",t)):void alert("未指定url")}function UMP$Services$UMWindow$showModalDialog(e){return $isJSONObject(e)?null==e.dialogId?void alert("showModalDialog方法的参数dialogId是必填参数"):$service.call("UMDialog.showModalDialog",e,!1):void alert("参数不是一个有效的JSONObject")}function UMP$Services$UMWindow$close(e){return"undefined"==typeof e&&(e={}),$service.call("UMDialog.close",e,!1)}function UMP$Services$UMDevice$getTimeZoneID(){return UM_NativeCall.callService("UMDevice.getTimeZoneID","",!0)}function UMP$Services$UMDevice$getTimeZoneDisplayName(){return UM_NativeCall.callService("UMDevice.getTimeZoneDisplayName","",!0)}function UMP$Services$UMDevice$getDeviceInfo(e){var t="";return t=e?$service.call(this._UMDevice_getDeviceInfo,$jsonToString(e),!1):$service.call(this._UMDevice_getDeviceInfo,"",!0)}function UMP$Services$UMDevice$getLocation(e){var t={};if(1!=arguments.length||!$isJSONObject(arguments[0]))return void alert("调用capturePhoto服务时，参数不是一个有效的JSONObject");t=e;var r=$service.call("UMDevice.getLocation",t),n="";return"string"==typeof r&&(n="状态为"+r+", 可以通过callback获取返回值"),n}function UMP$Services$UMDevice$captureTwodcode(e){var t="";return t=jsonArgs?$service.call(this._UMDevice_captureTwodcode,$jsonToString(jsonArgs),!1):$service.call(this._UMDevice_captureTwodcode,"",!0)}function UMP$Services$UMDevice$capturePhoto(e){$isJSONObject(e)||alert("调用capturePhoto服务时，参数不是一个有效的JSONObject"),$service.call("UMDevice.capturePhoto",e)}function UMP$Services$UMDevice$getAlbumPath(e){return $service.call("UMDevice.getAlbumPath","undefined"==typeof e?{}:e,!0)}function UMP$Services$UMDevice$getAppAlbumPath(e){if(e){if(!$isJSONObject(e))return void alert("调用 getAppAlbumPath 服务时，参数不是一个有效的JSONObject")}else e={};return $service.call("UMDevice.getAppAlbumPath",e,!0)}function UMP$Services$UMDevice$generateQRCode(e){return $scanner.generateQRCode(e)}function UMP$Services$UMDevice$sendMail(e,t,r){var n={};1==arguments.length&&$isJSONObject(arguments[0])?n=e:(n.receive=e,n.title=t,n.content=r),$service.call("UMDevice.sendMail",n)}function UMP$Services$UMDevice$saveContact(e){$isJSONObject(e)||alert("调用saveContact服务时，参数不是一个有效的JSONObject"),$service.call("UMDevice.saveContact",e)}function UMP$Services$UMDevice$getContacts(){return $service.call("UMDevice.getContactPerson",{},!0)}function UMP$Services$UMDevice$openAddressBook(){return $service.call("UMDevice.openAddressBook",{})}function UMP$Services$UMDevice$getInternalMemoryInfo(){return $service.call("UMDevice.getInternalMemoryInfo",{},!0)}function UMP$Services$UMDevice$getExternalStorageInfo(){return $service.call("UMDevice.getExternalStorageInfo",{},!0)}function UMP$Services$UMDevice$getMemoryInfo(){return $service.call("UMDevice.getMemoryInfo",{},!0)}function UMP$Services$UMDevice$gotoMapView(e){return $isJSONObject(e)||alert("调用gotoMapView服务时，参数不是一个有效的JSONObject"),$service.call("UMDevice.gotoMapView",e)}function UMP$Services$UMDevice$openWebView(e){return $isJSONObject(e)||alert("调用gotoMapView服务时，参数不是一个有效的JSONObject"),$service.call("UMDevice.openWebView",e)}function UMP$Services$UMDevice$screenShot(e){return $isJSONObject(e)||alert("调用screenshot服务时，参数不是一个有效的JSONObject"),$service.call("UMDevice.screenshot",e,!0)}function UMP$Services$UMDevice$notify(e){$service.call("UMService.localNotification",e)}function UMP$Services$UMDevice$getScreenWidth(){if(!this._deviceInfo_Screen){var e=$device.getDeviceInfo(),t=$stringToJSON(e);this._deviceInfo_Screen=t.screen}return this._deviceInfo_Screen?this._deviceInfo_Screen.width:void $toast("未能获取到该设备的屏幕信息")}function UMP$Services$UMDevice$getScreenHeight(){if(!this._deviceInfo_Screen){var e=$device.getDeviceInfo(),t=$stringToJSON(e);this._deviceInfo_Screen=t.screen}return this._deviceInfo_Screen?this._deviceInfo_Screen.height:void $toast("未能获取到该设备的屏幕信息")}function UMP$Services$UMDevice$getScreenDensity(){if(!this._deviceInfo_Screen){var e=$device.getDeviceInfo(),t=$stringToJSON(e);this._deviceInfo_Screen=t.screen}return this._deviceInfo_Screen?this._deviceInfo_Screen.density:void $toast("未能获取到该设备的屏幕信息")}function UMP$Services$UMDevice$currentOrientation(){return $service.call("UMDevice.currentOrientation",{},!0)}function UMP$Services$Badge$showBadge(e){return $service.call("UMBadgeService.ShowBadge",e)}function UMP$Services$Badge$hideBadge(e){return $service.call("UMBadgeService.HideBadge",e)}function UMP$Services$Telephone$call(e){CurrentEnvironment.DeviceType==CurrentEnvironment.DeviceIOS?UM_callNativeService(this._CALLTEL,e):CurrentEnvironment.DeviceType==CurrentEnvironment.DeviceAndroid?$service.call("UMDevice.callPhone","{tel:'"+e+"'}"):alert("Not implementate UMP$Services$Telephone$call in CurrentEnvironment.DeviceType == "+CurrentEnvironment.DeviceType)}function UMP$Services$Telephone$sendMsg(e,t){if(1==arguments.length&&$isJSONObject(arguments[0])){var r=e;if(CurrentEnvironment.DeviceType==CurrentEnvironment.DeviceIOS)return UM_callNativeService(this._SENDMSG,r.tel,r.body);if(CurrentEnvironment.DeviceType==CurrentEnvironment.DeviceAndroid)return $service.call("UMDevice.sendMsg",r)}else CurrentEnvironment.DeviceType==CurrentEnvironment.DeviceIOS?UM_callNativeService(this._SENDMSG,e,t):CurrentEnvironment.DeviceType==CurrentEnvironment.DeviceAndroid&&$service.call("UMDevice.sendMsg","{tel:'"+e+"',body:'"+t+"'}")}function UMP$Services$Telephone$sendMail(e,t,r){var n={};return 1==arguments.length&&$isJSONObject(arguments[0])?n=e:(n.receive=e,n.title=t,n.content=r),$device.sendMail(n)}function UMP$Services$Telephone$saveContact(e){return $device.saveContact(e)}function UMP$Services$UMPush$registerDevice(e){return e||(e={}),$service.call("UMPush.registerDevice",e,!1)}function UMP$Services$UMPush$removeDevice(e){return e||(e={}),$service.call("UMPush.removeDevice",e,!1)}function UMP$Services$Vibrator$vibrate(e){return"undefined"==typeof e&&(e=30),$service.call("UMDevice.vibrator",{s:e})}function UMP$UI$Container$UMCamera$open(e){if($validator.checkIfExist(e,["bindfield","callback","compressionRatio"]))return $service.call(this._UMDevice_openCamera,e,!1)}function UMP$UI$Container$UMCamera$openPhotoAlbum(e){if(e){var t={};return e.bindfield&&(t.bindfield=e.bindfield),e.callback&&(t.callback=e.callback),e.compressionRatio&&(t.compressionRatio=e.compressionRatio),$service.call(this._UMDevice_openPhotoAlbum,t,!1)}}function UMP$UI$Container$UMScanner$open(e){var t="";e?(null==e.frameclose&&(e.frameclose="true"),t=$service.call(this._UMDevice_captureTwodcode,e,!1)):t=$service.call(this._UMDevice_captureTwodcode,"",!0)}function UMP$UI$Container$UMScanner$generateQRCode(e){return $isJSONObject(e)?("undefined"!=typeof e.size&&(e["twocode-size"]=e.size),"undefined"!=typeof e.content&&(e["twocode-content"]=e.content),"undefined"==typeof e["twocode-size"]&&(e["twocode-size"]="180"),"undefined"==typeof e["twocode-content"]?void alert("参数twocode-content不能为空，此参数用来标识扫描二维码后的返回值"):$service.call(this._UMDevice_createTwocodeImage,e,!0)):void alert("generateQRCode方法的参数不是一个有效的JSONObject!")}function UMP$Services$UMJS$showLoadingBar(e){return $service.call("UMJS.showLoadingBar","undefined"==typeof e?{}:e)}function UMP$Services$UMJS$hideLoadingBar(e){return $service.call("UMJS.hideLoadingBar","undefined"==typeof e?{}:e)}function UMP$Services$UMJS$toast(e){var t={};if("undefined"==typeof e)t={msg:"undefined"};else if(null==e)t={msg:"null"};else if("string"==typeof e)t={msg:e};else{if(!$isJSONObject(e))return void alert("$toast方法不支持参数类型为["+typeof e+"]的参数,不是一个有效的字符串或JSONObject");t=e}return $service.call("UMJS.toast",t,!1)}function UMP$Services$UMJS$runjs(e){return $isJSONObject(e)?$service.call("UMJS.runjs",e,!1):void alert("$js.runjs 方法参数不是有效的JSONObject")}function UMP$Services$UMJS$refresh(e){$service.call("UMJS.refresh",e,!1)}function UMP$Services$UMJS$getTimeTicks(){return $service.call("UMJS.getTimeTicks",{},!0)}function UMP$Services$UMJS$randomUUID(){return $service.call("UMJS.randomUUID",{},!0)}function UMP$Services$UMJS$urlDecode(e){var t=e;return"string"==typeof e&&(t={content:e}),$service.call("UMJS.urlDecode",t,!0)}function UMP$Services$UMJS$urlEncode(e){var t=e;return"string"==typeof e&&(t={content:e}),$service.call("UMJS.urlEncode",t,!0)}function UMP$Services$UMJS$backConfirm(){return $service.call("UMJS.addback",{},!1)}function UMP$Services$UMEncryption$md5HexUtf8(e){var t=e;return"string"==typeof e&&(t={data:e}),$service.call("UMEncryption.md5HexUtf8",t,!0)}function UMP$Services$UMWXShare$init(e){return $isJSONObject(e)?$service.call("UMWXShare.init",e,!1):void alert("$wxshare.init 方法参数不是有效的JSONObject")}function UMP$Services$UMWXShare$sendText(e){return $isJSONObject(e)?$service.call("UMWXShare.sendText",e,!1):void alert("$wxshare.sendText 方法参数不是有效的JSONObject")}function UMP$Services$UMWXShare$sendImage(e){return $isJSONObject(e)?$service.call("UMWXShare.sendImage",e,!1):void alert("$wxshare.sendImage 方法参数不是有效的JSONObject")}function UMP$Services$UMWXShare$sendTextandImage(e){return $isJSONObject(e)?$service.call("UMWXShare.sendTextandImage",e,!1):void alert("$wxshare.sendTextandImage 方法参数不是有效的JSONObject")}function UMP$UI$Container$UMAnimation$animate(e,t,r){if($isJSONObject(e))$service.call("UMJS.animation",e,!1);else{var n={id:e};if($isJSONArray(t))n.animations=t;else if($isJSONObject(t)){var i=[];i.push(t),n.animations=i}else alert("调用 animate 方法时，第二个参数settings不是一个有效的JSONArray对象");r&&(n.callback=r),$service.call("UMJS.animation",n,!1)}}function UMP$UI$Container$UMAnimation$show(){}function UMP$UI$Container$UMAnimation$hidden(){}function UMP$Services$UMFile$downloadFile(e,t,r,n,i,a,o,s){var c={};c.fileid=e,c.downloadpath=t,c.filename=r,c.filetype=n,c.filesize=i,c.downflag=a,c.startposition=o,c.endposition=s;var l=$jsonToString(c);return $service.call(this._downloadFile,l)}function UMP$Services$UMFile$upload(e){return $isEmpty(e.url)&&alert("参数url不能为空"),$isEmpty(e.filename)&&alert("参数filename不能为空"),$service.call(this._UMFile_upload,e)}function UMP$Services$UMFile$download(e){return $isEmpty(e.url)&&alert("参数url不能为空"),$isEmpty(e.filename)&&alert("参数filename不能为空"),$isEmpty(e.locate)&&alert("参数locate不能为空"),$isEmpty(e.override)&&alert("参数override不能为空"),$isEmpty(e.callback)&&alert("参数callback不能为空"),$service.call(this._UMFile_download,e)}function UMP$Services$UMFile$writeFile(e,t,r,n,i){if($environment.DeviceType==$environment.DeviceIOS){var a=t;return"string"!=typeof t&&(a=$jsonToString(t)),UM_callNativeService(this._store,e,a)}if($environment.DeviceType==$environment.DeviceAndroid){var o={};return e&&(o.path=e),t&&(o.content=t),r&&(o.append=r),n&&(o.charset=n),"undefined"==typeof i?UM_NativeCall.callService("UMFile.write",o,!0):UM_NativeCall.callService("UMFile.write",o,i)}}function UMP$Services$UMFile$write(e,t){return"undefined"==typeof t&&(t=!0),UM_NativeCall.callService("UMFile.write",e,t)}function UMP$Services$UMFile$remove(e,t){return $service.call("UMFile.delete",e,"undefined"!=typeof t)}function UMP$Services$UMFile$getFileInfo(e){var t=e;return"string"==typeof e&&(t={path:e}),$service.call("UMFile.getFileInfo",t,!0)}function UMP$Services$UMFile$open(e){return $isJSONObject(e)||alert("调用$file.open方法时，参数不是一个有效的JSONObject"),$service.call("UMDevice.openFile",e,!1)}function UMP$Services$UMFile$ftpUpload(e){return $isJSONObject(e)?$service.call("UMDevice.ftpUpload",e,!1):void alert("调用$file.open方法时，参数不是一个有效的JSONObject")}function UMP$Services$UMFile$ftpDownload(e){return $isJSONObject(e)?$service.call("UMDevice.ftpDownload",e,!1):void alert("调用$file.open方法时，参数不是一个有效的JSONObject")}function UMP$Services$UAPappStore$updateAPP(e){return $isJSONObject(e)?$service.call("UAPappStore.updateAPP",e,!1):void alert("调用$UAPappStore.updateAPP方法时，参数不是一个有效的JSONObject")}function UMP$Services$Menu$openDropDownList(e){$isJSONObject(e)||alert("调用$menu.openDropDownList()时的参数不是一个有效的JSONObject!"),$service.call("UMMenu.openDropDownList",e)}function UMP$Services$Validator$check(e,t,r){for(var n=0,i=t.length;n<i;n++)if(void 0==e[t[n]]||null==e[t[n]]){var a="参数["+t[n]+"]不能为空";return alert(r?r+a:a),!1}return!0}function UMP$Services$Validator$checkIfExist(e,t,r){for(var n=0,i=t.length;n<i;n++){var a=t[n];if(a in e&&UM.isEmpty(e[a])){var o="参数["+t[n]+"]不能为空";return alert(r?r+o:o),!1}}return!0}function UMP$Services$Validator$isEmpty(e){return UM.isEmpty(e)}function UMP$Services$Validator$isJSONObject(e){$isJSONObject(e)&&alert("参数不是一个有效的JSONObject")}function UMP$Services$Validator$isNamespace(e){if("undefined"==typeof e||null===e)return!1;if("string"==typeof e&&""==e)return!1;if(e.indexOf(".")<0||"."==e.substring(0,1)||"."==e.substring(e.length-1))return alert("包名非法，不包含.或以.开始结束"),!1;for(var t=e.split("."),r=0,n=t.length;r<n;r++){var i=t[r];if(""==i)return alert("非法的包名中连续含有两个."),!1;var a=/^[a-z]+([a-zA-Z_][a-zA-Z_0-9]*)*$/;if(!a.test(i))return alert("非法的包名"),!1}return!0}function UMP$UI$Mvc$Router$route(e,t,r){var n=r;"string"==typeof r&&(n=$stringToJSON(r));var i=UM.__getInstance(e);i.execute(t,n)}function UMP$UI$Mvc$Router$eval(e,t,r,n,i,a){var o=UM.__getInstance(e);return o?void o.eval(t,r,n,i,a):void alert(e+"未能正确初始化加载，可能是由于语法错误导致未能正确加载\n建议启动调试进行排查，也可查看浏览器的控制台")}function UMP$UI$Mvc$Router$debug(e,t,r,n,i,a){var o=UM.__getInstance(e);return o?(a||alert("调试发生异常"),a.debug="begin",$service.call("UMJS.debug",a,!0),o.eval(t,r,n,i,{}),a.debug="end",$service.call("UMJS.debug",a,!0),void 0):void alert(e+"未能正确初始化加载，可能是由于语法错误导致未能正确加载\n建议启动调试进行排查，也可查看浏览器的控制台")}function $pageReady(){"undefined"!=typeof $document&&$document.fireEvent("pageReady")}function UMP$UI$Mvc$ControllerBase$execute(actionid,json){var action=eval("this."+actionid);try{eval("this."+actionid+"(json)")}catch(e){e.stack?alert(e.stack):alert(e.name+":"+e.message);
}return json}function UMP$UI$Mvc$ControllerBase$execMethod(e){try{e.method||alert("Action["+e.actionid+"]不存在Method["+e.method+"]"),this._controller&&(this._controller.initialize&&this._controller.initialize(),$ctx._setUMContext4debug(e.json),this._controller.method(e.method,e))}catch(t){alert(t.stack)}}function UMP$UI$Mvc$Controller$method(methodName,args){try{var func=eval("this."+methodName);func.apply(this,[args])}catch(e){alert(e.stack)}}function UMP$UI$Mvc$Controller$eval(js,json,sender,args,uiMD){try{if($ctx._setUMContext4debug(json),"undefined"!=typeof $document&&$document.uiMD(uiMD),js=js.trim(),0==js.indexOf("this.")&&js.indexOf("(")>0&&js.indexOf(")")>js.indexOf("(")){var funcName=js.substring(0,js.indexOf("(")),func=eval(funcName);if(func)func.apply(this,[sender,args]);else{var m=funcName.substring(5);alert("调用["+this.__typeName+"]的["+m+"]方法异常：\n请检查"+this.__typeName+".prototype中是否有"+m+"的定义")}}else if($isFunction($__cbm[js])){var func=$__cbm[js];func.apply(this,[sender,args])}else{var funcName=js.substring(0,js.indexOf("(")),func;try{var func=null;try{func=eval(funcName)}catch(e){var info="找不到方法["+funcName+"]的定义\n\n";return void(e.stack?alert(info+e.stack):alert(info+e))}$isFunction(func)?func.apply(this,[sender,args]):alert("要执行的["+funcName+"]不是一个有效的function，请检查")}catch(e){e.stack?alert(e.stack):alert(e)}}}catch(e){alert(e.stack)}}!function(e){e._UM=e.UM;var t={};"function"==typeof define&&define.amd&&define("UM",[],function(){return t}),e.UM=t,t.noConflict=function(r){return r&&e.UM===t&&(e.UM=e._UM),t}}(window),"undefined"==typeof UM&&(UM={}),UM.alert=function(e){try{"string"==typeof e?alert(e):"UMP.UI.Mvc.Context"==e.__baseClass?alert($jsonToString(e.unload())):"object"==typeof e?alert($jsonToString(e)):alert(e)}catch(t){alert(e)}},$alert=UM.alert,UM.confirm=function(e){try{return confirm(e)}catch(t){return alert(e),!1}},$confirm=UM.confirm,function(root){root.__jvm=root.__jvm||{},root.__getInstance=function(className){try{var T=eval(className)}catch(e1){var msg="命名空间"+className+"异常！\n请检查"+className+"所在js文件是否有语法错误。\n建议启动调试进行排查，也可查看浏览器的控制台...";return void $exception(e1,msg)}if(T){if(root.__jvm[className])return root.__jvm[className];var isFailed=!1;try{root.__jvm[className]=new T,root.__jvm[className].__typeName=className}catch(e2){isFailed=!0;var msg=className+" 类的构造函数发生错误，可能是由于"+className+".prototype有语法错误，\n建议启动调试进行排查，也可查看浏览器的控制台";$exception(e2,msg)}finally{isFailed&&root.__jvm[className]&&delete root.__jvm[className],delete isFailed}return root.__jvm[className]}return alert("当前命名空间下没有"+className+"类型，返回null"),null}}(UM),String.prototype.trim=function(){return this.replace(/(^\s*)|(\s*$)/g,"")},String.prototype.ltrim=function(){return this.replace(/(^\s*)/g,"")},String.prototype.rtrim=function(){return this.replace(/(\s*$)/g,"")},String.prototype.isNullOrEmpty=function(){return"undefined"==typeof this||null===this||"string"==typeof this&&""==this},Number.prototype.add=function(e){var t=function(e,t){var r,n,i;try{r=e.toString().split(".")[1].length}catch(a){r=0}try{n=t.toString().split(".")[1].length}catch(a){n=0}return i=Math.pow(10,Math.max(r,n)),(e*i+t*i)/i};return t(e,this)},Number.prototype.sub=function(e){return this.add(this,-e)},Number.prototype.mul=function(e){var t=function(e,t){var r=0,n=e.toString(),i=t.toString();try{r+=n.split(".")[1].length}catch(a){}try{r+=i.split(".")[1].length}catch(a){}return Number(n.replace(".",""))*Number(i.replace(".",""))/Math.pow(10,r)};return t(e,this)},Number.prototype.div=function(arg){var accDiv=function(arg1,arg2){var t1=0,t2=0,r1,r2;try{t1=arg1.toString().split(".")[1].length}catch(e){}try{t2=arg2.toString().split(".")[1].length}catch(e){}with(Math)return r1=Number(arg1.toString().replace(".","")),r2=Number(arg2.toString().replace(".","")),r1/r2*pow(10,t2-t1)};return accDiv(this,arg)},Array.prototype.remove=function(e){return isNaN(e)||e<0||e>=this.length?this:(this.splice(e,1),this)},Array.prototype.remove2=function(e){return isNaN(e)?this:e<0||e>=this.length?this:this.slice(0,e).concat(this.slice(e+1,this.length))},Array.prototype.remove3=function(e){if(isNaN(e)||e>this.length)return!1;for(var t=0,r=0;t<this.length;t++)this[t]!=this[e]&&(this[r++]=this[t]);this.length-=1},Array.prototype.insert=function(e,t){return this.splice(e,0,t)},Date.prototype.format=function(e){var t={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length)));for(var r in t)new RegExp("("+r+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?t[r]:("00"+t[r]).substr((""+t[r]).length)));return e},Map=function(){var e=function(e,t){this.key=e,this.value=t},t=function(t,r){for(var n=0;n<this.arr.length;n++)if(this.arr[n].key===t)return void(this.arr[n].value=r);this.arr[this.arr.length]=new e(t,r)},r=function(e){for(var t=0;t<this.arr.length;t++)if(this.arr[t].key===e)return this.arr[t].value;return null},n=function(e){for(var t,r=0;r<this.arr.length;r++)t=this.arr.pop(),t.key!==e&&this.arr.unshift(t)},i=function(){return this.arr.length},a=function(){return this.arr.length<=0};this.arr=new Array,this.get=r,this.put=t,this.remove=n,this.size=i,this.isEmpty=a},UM.jsonToString=function(obj){var THIS=this;switch(typeof obj){case"string":try{return eval('"'+obj.replace(/(["\\])/g,"\\$1")+'"')}catch(e){return obj}case"array":return"["+obj.map(THIS.jsonToString).join(",")+"]";case"object":if(obj instanceof Array){for(var strArr=[],len=obj.length,i=0;i<len;i++){var item=null;item="string"==typeof obj[i]?'"'+obj[i]+'"':"object"==typeof obj[i]?THIS.jsonToString(obj[i]):THIS.jsonToString(obj[i]),strArr.push(item)}return"["+strArr.join(",")+"]"}if(null==obj)return"";var list=[];for(var property in obj){var vv=THIS.jsonToString(obj[property]),p=THIS.jsonToString(property);p.indexOf('"')>=0||(p='"'+p+'"'),obj[property]instanceof Array||(vv.toString().indexOf('"')>=0?"string"==typeof obj[property]&&(obj[property].indexOf("{")>-1&&obj[property].indexOf("}")>obj[property].indexOf("{")&&JSON.tryParseJSON(obj[property])?(vv=vv.replace(/(["\\])/g,"\\$1"),vv='"'+vv+'"'):(vv=vv.replace(/(["\\])/g,"\\$1"),vv='"'+vv+'"')):vv='"'+vv+'"'),list.push(p+":"+vv)}return"{"+list.join(",")+"}";case"number":return obj;case"boolean":return'"'+obj.toString()+'"';case"undefined":return"";default:return obj}},$jsonToString=UM.jsonToString,jsonToString=UM.jsonToString,UM.stringToJSON=function(str){if(null==str||"string"==typeof str&&""==str)return null;if("string"!=typeof str)return"object"==typeof str?str:(alert("$stringToJSON()出错! 试图将一个["+typeof str+"]类型的参数执行stringToJSON!"),str);try{if(str.indexOf("\n")>=0&&(str=str.replace(/\n/g,"\\n")),str.indexOf("\r")>=0&&(str=str.replace(/\r/g,"\\r")),!isNaN(str))return str;if(/^[\d.]+$/.test(str))return str;var result=eval("("+str+")");return"[object Object]"===Object.prototype.toString.call(result)?result:"[object Array]"===Object.prototype.toString.call(result)?result:str}catch(e){return str}},$stringToJSON=UM.stringToJSON,stringToJSON=UM.stringToJSON,UM.jsonToFormatString=function(e){var t=[];for(prop in e)e.hasOwnProperty(prop)&&t.push(prop+' : "'+e[prop]+'"');return"{\n    "+t.join(",\n    ")+"\n}"},$jsonToFormatString=UM.jsonToFormatString,UM.isJSONObject=function(e){return"[object Object]"===Object.prototype.toString.call(e)},$isJSONObject=UM.isJSONObject,JSON&&(JSON.isJSON=JSON.isJSON||function(e){if("[object Object]"===Object.prototype.toString.call(e))try{var t=JSON.stringify(e),r=JSON.stringify(JSON.parse(JSON.stringify(e)));return t==r}catch(n){return!1}},JSON.tryParse=JSON.tryParse||function(e){try{JSON.parse(e);return!0}catch(t){return!1}},JSON.tryParseJSON=JSON.tryParseJSON||function(e){try{var t=JSON.parse(e);return"[object Object]"===Object.prototype.toString.call(t)}catch(r){return!1}}),UM.isWindow=function(e){return null!=e&&e==e.window},$isWindow=UM.isWindow,UM.isPlainObject=function(e){var t;if(!e||!$isJSONObject(e)||e.nodeType||$isWindow(e))return!1;try{if(e.constructor&&!hasOwnProperty.call(e,"constructor")&&!hasOwnProperty.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(r){return!1}for(t in e)return hasOwnProperty.call(e,t);for(t in e);return void 0===t||hasOwnProperty.call(e,t)},$isPlainObject=UM.isPlainObject,UM.isJSONArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)},$isJSONArray=UM.isJSONArray,UM.isFunction=function(e){return"[object Function]"===Object.prototype.toString.call(e)},$isFunction=UM.isFunction,UM.isEmpty=function(e){return!!(void 0==e||null==e||e.toString&&""==e.toString())},$isEmpty=UM.isEmpty,$translateToArray=function(e){for(key in e){var t=e[key];"{}"==t?e[key]={}:"[]"==t?e[key]=[]:"object"==typeof t&&(e[key]=$translateToArray(t))}return e},$exception=function(e,t){t=t?t+"\r\n":"",e?e.stack?alert(t+e.stack):alert(t+e):alert("发生异常:"+t)},$e=$exception,UMCodec=function(){},UMCodec.prototype.urlDecode=function(e){if(e){for(var t="",r=0;r<e.length;r++){var n=e.charAt(r);if("+"==n)t+=" ";else if("%"==n){var i=e.substring(r+1,r+3);parseInt("0x"+i)>127?(t+=decodeURI("%"+i.toString()+e.substring(r+3,r+9).toString()),r+=8):(t+=this.asciiToString(parseInt("0x"+i)),r+=2)}else t+=n}return t}},UMCodec.prototype.asciiToString=function(e){if(e)return String.fromCharCode(e)},$codec=new UMCodec,Function.__typeName="Function",Function.createDelegate=function(e,t){return function(){return t.apply(e,arguments)}},"undefined"==typeof window&&(this.window=this),window.Type=Function,window.__rootNamespaces=[],window.__registeredTypes={},Type.__fullyQualifiedIdentifierRegExp=new RegExp("^[^.0-9 \\s|,;:&*=+\\-()\\[\\]{}^%#@!~\\n\\r\\t\\f\\\\]([^ \\s|,;:&*=+\\-()\\[\\]{}^%#@!~\\n\\r\\t\\f\\\\]*[^. \\s|,;:&*=+\\-()\\[\\]{}^%#@!~\\n\\r\\t\\f\\\\])?$","i"),Type.__identifierRegExp=new RegExp("^[^.0-9 \\s|,;:&*=+\\-()\\[\\]{}^%#@!~\\n\\r\\t\\f\\\\][^. \\s|,;:&*=+\\-()\\[\\]{}^%#@!~\\n\\r\\t\\f\\\\]*$","i"),Type.prototype.callBaseMethod=function(e,t,r){var n=this.getBaseMethod(e,t);if(!n)throw"Error.invalidOperation(String.format(Sys.Res.methodNotFound, name))";return r?n.apply(e,r):n.apply(e)},Type.prototype.getBaseMethod=function(e,t){if(!this.isInstanceOfType(e))throw"Error.argumentType('instance', Object.getType(instance), this)";var r=this.getBaseType();if(r){var n=r.prototype[t];return n instanceof Function?n:null}return null},Type.prototype.getBaseType=function(){if(0!==arguments.length)throw"Error.parameterCount()";return"undefined"==typeof this.__baseType?null:this.__baseType},Type.prototype.getInterfaces=function(){if(0!==arguments.length)throw"Error.parameterCount()";for(var e=[],t=this;t;){var r=t.__interfaces;if(r)for(var n=0,i=r.length;n<i;n++){var a=r[n];Array.contains(e,a)||(e[e.length]=a)}t=t.__baseType}return e},Type.prototype.getName=function(){if(0!==arguments.length)throw"Error.parameterCount()";return"undefined"==typeof this.__typeName?"":this.__typeName},Type.prototype.implementsInterface=function(e){this.resolveInheritance();var t=e.getName(),r=this.__interfaceCache;if(r){var n=r[t];if("undefined"!=typeof n)return n}else r=this.__interfaceCache={};for(var i=this;i;){var a=i.__interfaces;if(a&&Array.indexOf(a,e)!==-1)return r[t]=!0;i=i.__baseType}return r[t]=!1},Type.prototype.inheritsFrom=function(e){this.resolveInheritance();for(var t=this.__baseType;t;){if(t===e)return!0;t=t.__baseType}return!1},Type.prototype.initializeBase=function(e,t){if(!this.isInstanceOfType(e))throw"Error.argumentType('instance', Object.getType(instance), this)";return this.resolveInheritance(),this.__baseType&&(t?this.__baseType.apply(e,t):this.__baseType.apply(e)),e},Type.prototype.isImplementedBy=function(e){if("undefined"==typeof e||null===e)return!1;var t=Object.getType(e);return!(!t.implementsInterface||!t.implementsInterface(this))},Type.prototype.isInstanceOfType=function(e){if("undefined"==typeof e||null===e)return!1;if(e instanceof this)return!0;var t=Object.getType(e);return!(t!==this)||t.inheritsFrom&&t.inheritsFrom(this)||t.implementsInterface&&t.implementsInterface(this)},Type.prototype.registerClass=function Type$registerClass(typeName,baseType,interfaceTypes){if(!Type.__fullyQualifiedIdentifierRegExp.test(typeName))throw"Error.argument('typeName', Sys.Res.notATypeName)";var parsedName;try{parsedName=eval(typeName)}catch(e){throw"Error.argument('typeName', Sys.Res.argumentTypeName)"}if(parsedName!==this){var errInfo=this.name+"试图注册一个已经存在的["+typeName+"]类型，请检查";return alert(errInfo),this}if(window.__registeredTypes[typeName],arguments.length>1&&"undefined"==typeof baseType)throw alert("baseType of ["+typeName+" ] is 'undefined', probably error in the baseType"),"Error.argumentUndefined('baseType')";if("string"==typeof baseType)throw alert("baseType of ["+typeName+" ] is not a class but a string["+baseType+"], please modify it"),"Error.argument('baseType', Sys.Res.baseNotAClass)";if(baseType&&!baseType.__class)throw alert("baseType of ["+typeName+" ] is not a class, probably error in the baseType"),"Error.argument('baseType', Sys.Res.baseNotAClass)";if(this.prototype.constructor=this,this.__typeName=typeName,this.__class=!0,baseType&&(this.__baseType=baseType,this.__basePrototypePending=!0),window.__classes||(window.__classes={}),window.__classes[typeName.toUpperCase()]=this,interfaceTypes){this.__interfaces=[];for(var i=2;i<arguments.length;i++){var interfaceType=arguments[i];if(!interfaceType.__interface)throw"Error.argument('interfaceTypes[' + (i - 2) + ']', Sys.Res.notAnInterface)";this.resolveInheritance();for(var methodName in interfaceType.prototype){var method=interfaceType.prototype[methodName];this.prototype[methodName]||(this.prototype[methodName]=method)}this.__interfaces.push(interfaceType)}}return window.__registeredTypes[typeName]=!0,this},Type.prototype.registerInterface=function Type$registerInterface(typeName){!Type.__fullyQualifiedIdentifierRegExp.test(typeName);var parsedName;try{parsedName=eval(typeName)}catch(e){throw"Error.argument('typeName', Sys.Res.argumentTypeName)"}if(parsedName!==this)throw"Error.argument('typeName', Sys.Res.badTypeName)";if(window.__registeredTypes[typeName])throw"Error.invalidOperation(String.format(Sys.Res.typeRegisteredTwice, typeName))";return this.prototype.constructor=this,this.__typeName=typeName,this.__interface=!0,window.__registeredTypes[typeName]=!0,this},Type.prototype.resolveInheritance=function(){if(0!==arguments.length,this.__basePrototypePending){var e=this.__baseType;e.resolveInheritance();for(var t in e.prototype){var r=e.prototype[t];this.prototype[t]||(this.prototype[t]=r)}delete this.__basePrototypePending}},Type.getRootNamespaces=function(){if(0!==arguments.length)throw"Error.parameterCount()";return Array.clone(window.__rootNamespaces)},Type.isClass=function(e){return"undefined"!=typeof e&&null!==e&&!!e.__class},Type.isInterface=function(e){return"undefined"!=typeof e&&null!==e&&!!e.__interface},Type.isNamespace=function(e){return"undefined"!=typeof e&&null!==e&&!!e.__namespace},Type.parse=function Type$parse(typeName,ns){var fn;if(ns)return window.__classes?(fn=window.__classes[ns.getName().toUpperCase()+"."+typeName.toUpperCase()],fn||null):null;if(!typeName)return null;if(Type.__htClasses||(Type.__htClasses={}),fn=Type.__htClasses[typeName],!fn){if(fn=eval(typeName),"function"!=typeof fn)throw"Error.argument('typeName', Sys.Res.notATypeName)";Type.__htClasses[typeName]=fn}return fn},Type.registerNamespace=function Type$registerNamespace(namespacePath){if(!Type.__fullyQualifiedIdentifierRegExp.test(namespacePath))throw"Error.argument('namespacePath', Sys.Res.invalidNameSpace)";for(var rootObject=window,namespaceParts=namespacePath.split("."),i=0;i<namespaceParts.length;i++){var currentPart=namespaceParts[i],ns=rootObject[currentPart];if(ns&&!ns.__namespace,!ns){ns=rootObject[currentPart]={},0===i&&(window.__rootNamespaces[window.__rootNamespaces.length]=ns),ns.__namespace=!0,ns.__typeName=namespaceParts.slice(0,i+1).join(".");var parsedName;try{parsedName=eval(ns.__typeName)}catch(e){parsedName=null}if(parsedName!==ns)throw Error.argument("namespacePath",Sys.Res.invalidNameSpace);ns.getName=function(){return this.__typeName}}rootObject=ns}},Object.__typeName="Object",Object.getType=function(e){var t=e.constructor;return t&&"function"==typeof t&&t.__typeName&&"Object"!==t.__typeName?t:Object},Object.getTypeName=function(e){return Object.getType(e).getName()},Array.__typeName="Array",Array.add=Array.enqueue=function(e,t){e[e.length]=t},Array.addRange=function(e,t){var r=Function._validateParams(arguments,[{name:"array",type:Array,elementMayBeNull:!0},{name:"items",type:Array,elementMayBeNull:!0}]);if(r)throw r;e.push.apply(e,t)},Array.clear=function(e){var t=Function._validateParams(arguments,[{name:"array",type:Array,elementMayBeNull:!0}]);if(t)throw t;e.length=0},Array.clone=function(e){return 1===e.length?[e[0]]:Array.apply(null,e)},Array.contains=function(e,t){var r=Function._validateParams(arguments,[{name:"array",type:Array,elementMayBeNull:!0},{name:"item",mayBeNull:!0}]);if(r)throw r;return Array.indexOf(e,t)>=0},Array.dequeue=function(e){var t=Function._validateParams(arguments,[{name:"array",type:Array,elementMayBeNull:!0}]);if(t)throw t;return e.shift()},Array.forEach=function(e,t,r){var n=Function._validateParams(arguments,[{name:"array",type:Array,elementMayBeNull:!0},{name:"method",type:Function},{name:"instance",mayBeNull:!0,optional:!0}]);if(n)throw n;for(var i=0,a=e.length;i<a;i++){var o=e[i];"undefined"!=typeof o&&t.call(r,o,i,e)}},Array.indexOf=function(e,t,r){var n=Function._validateParams(arguments,[{name:"array",type:Array,elementMayBeNull:!0},{name:"item",mayBeNull:!0,optional:!0},{name:"start",mayBeNull:!0,optional:!0}]);if(n)throw n;if("undefined"==typeof t)return-1;var i=e.length;if(0!==i){r-=0,isNaN(r)?r=0:(isFinite(r)&&(r-=r%1),r<0&&(r=Math.max(0,i+r)));for(var a=r;a<i;a++)if("undefined"!=typeof e[a]&&e[a]===t)return a}return-1},Array.insert=function(e,t,r){var n=Function._validateParams(arguments,[{name:"array",type:Array,elementMayBeNull:!0},{name:"index",mayBeNull:!0},{name:"item",mayBeNull:!0}]);if(n)throw n;e.splice(t,0,r)},Array.parse=function Array$parse(value){var e=Function._validateParams(arguments,[{name:"value",type:String,mayBeNull:!0}]);if(e)throw e;if(!value)return[];var v=eval(value);if(!Array.isInstanceOfType(v))throw Error.argument("value",Sys.Res.arrayParseBadFormat);return v},Array.remove=function(e,t){var r=Function._validateParams(arguments,[{name:"array",type:Array,elementMayBeNull:!0},{name:"item",mayBeNull:!0}]);if(r)throw r;var n=Array.indexOf(e,t);return n>=0&&e.splice(n,1),n>=0},Array.removeAt=function(e,t){var r=Function._validateParams(arguments,[{name:"array",type:Array,elementMayBeNull:!0},{name:"index",mayBeNull:!0}]);if(r)throw r;e.splice(t,1)},Type.prototype.registerEnum=function Type$registerEnum(name,flags){if(!Type.__fullyQualifiedIdentifierRegExp.test(name))throw"Error.argument('name', Sys.Res.notATypeName)";var parsedName;try{parsedName=eval(name)}catch(e){throw"Error.argument('name', Sys.Res.argumentTypeName)"}if(parsedName!==this)throw"Error.argument('name', Sys.Res.badTypeName)";if(window.__registeredTypes[name])throw"Error.invalidOperation(String.format(Sys.Res.typeRegisteredTwice, name))";for(var i in this.prototype){var val=this.prototype[i];if(!Type.__identifierRegExp.test(i))throw"Error.invalidOperation(String.format(Sys.Res.enumInvalidValueName, i))";if("number"!=typeof val||val%1!==0)throw"Error.invalidOperation(Sys.Res.enumValueNotInteger)";if("undefined"!=typeof this[i])throw"Error.invalidOperation(String.format(Sys.Res.enumReservedName, i))"}for(var i in this.prototype)this[i]=this.prototype[i];this.__typeName=name,this.parse=Sys$Enum$parse,this.__string=this.toString(),this.toString=Sys$Enum$toString,this.__flags=flags,this.__enum=!0,window.__registeredTypes[name]=!0},Type.isEnum=function(e){var t=Function._validateParams(arguments,[{name:"type",mayBeNull:!0}]);if(t)throw t;return"undefined"!=typeof e&&null!==e&&!!e.__enum},Type.isFlags=function(e){var t=Function._validateParams(arguments,[{name:"type",mayBeNull:!0}]);if(t)throw t;return"undefined"!=typeof e&&null!==e&&!!e.__flags},Type.registerNamespace("Sys"),Sys.Component=function(){this._id=null},Sys.Component.prototype={get_id:Sys$Component$get_id},Sys.Component.registerClass("Sys.Component"),Sys._Application=function(){this._components={},this._createdComponents=[]},Sys._Application.prototype={findComponent:UMP$Sys$_Application$findComponent},Sys._Application.registerClass("Sys._Application",Sys.Component,Sys.IContainer),Sys.Application=new Sys._Application,Sys.EventHandlerList=function(){if(0!==arguments.length)throw Error.parameterCount();this._list={}},Sys.EventHandlerList.prototype={addHandler:Sys$EventHandlerList$addHandler,removeHandler:Sys$EventHandlerList$removeHandler,getHandler:Sys$EventHandlerList$getHandler,_getEvent:Sys$EventHandlerList$_getEvent},Sys.EventHandlerList.registerClass("Sys.EventHandlerList"),Sys.EventArgs=function(){if(0!==arguments.length)throw Error.parameterCount()},Sys.EventArgs.registerClass("Sys.EventArgs"),Sys.EventArgs.Empty=new Sys.EventArgs,Type.registerNamespace("Sys.UI"),Sys.UI.DomEvent=function(e){var t=e;this.rawEvent=t,this.altKey=t.altKey,"undefined"!=typeof t.button&&(this.button="undefined"!=typeof t.which?t.button:4===t.button?Sys.UI.MouseButton.middleButton:2===t.button?Sys.UI.MouseButton.rightButton:Sys.UI.MouseButton.leftButton),"keypress"===t.type?this.charCode=t.charCode||t.keyCode:t.keyCode&&46===t.keyCode?this.keyCode=127:this.keyCode=t.keyCode,this.shiftKey=t.shiftKey,this.type=t.type},Sys.UI.DomEvent.prototype={preventDefault:Sys$UI$DomEvent$preventDefault,stopPropagation:Sys$UI$DomEvent$stopPropagation},Sys.UI.DomEvent.registerClass("Sys.UI.DomEvent");var $find=Sys.Application.findComponent,$get=function(){return document.getElementById(id)},$addHandler=Sys.UI.DomEvent.addHandler=function(e,t,r){e._events||(e._events={});var n=e._events[t];n||(e._events[t]=n=[]);var i;e.addEventListener?(i=function(t){return r.call(e,new Sys.UI.DomEvent(t))},e.addEventListener(t,i,!1)):e.attachEvent&&(i=function(){return r.call(e,new Sys.UI.DomEvent(window.event))},e.attachEvent("on"+t,i)),n[n.length]={handler:r,browserHandler:i}},$removeHandler=Sys.UI.DomEvent.removeHandler=function(e,t,r){var n=null;if("object"!=typeof e._events||null==e._events)return void alert("Error in $removeHandler");var i=e._events[t];if(!(i instanceof Array))return void alert("Error in $removeHandler");for(var a=0,o=i.length;a<o;a++)if(i[a].handler===r){n=i[a].browserHandler;break}return"function"!=typeof n?void alert("Error in $removeHandler"):(e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent&&e.detachEvent("on"+t,n),void i.splice(a,1))};CurrentEnvironment={},CurrentEnvironment.DeviceIOS="ios",CurrentEnvironment.DeviceAndroid="android",CurrentEnvironment.DeviceWin8="win8",CurrentEnvironment.DevicePC="pc",CurrentEnvironment.Debug="debug",CurrentEnvironment.DeviceType="android",$environment=CurrentEnvironment,function(e){var t={info:function(){var e=navigator.userAgent;navigator.appVersion;return{webKit:e.indexOf("AppleWebKit")>-1,mobile:!!e.match(/AppleWebKit.*Mobile.*/),ios:!!e.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),android:e.indexOf("Android")>-1||e.indexOf("Linux")>-1,iPhone:e.indexOf("iPhone")>-1,iPad:e.indexOf("iPad")>-1}}(),lang:(navigator.browserLanguage||navigator.language).toLowerCase()};t.info.android?e.DeviceType="android":(t.info.ios||t.info.iPhone||t.info.iPad)&&(e.DeviceType="ios")}(CurrentEnvironment),+function(e,t){e.platform={},e.platform.OS="",e.platform.ANDROID="android",e.platform.IOS="ios",e.platform.HTML5="HTML5"}(UM),$isWeb=!1,$__cbm=[],SysHelper=function(){},Type.registerNamespace("UMP.UI.Container"),UMP.UI.Container.SysHelper=function(){this._version="",this._cancelpush=!1},UMP.UI.Container.SysHelper.prototype={navigate:UMP$UI$Container$SysHelper$navigate,callAction:UMP$UI$Container$SysHelper$callAction,cancelPush:UMP$UI$Container$SysHelper$cancelPush,push:UMP$UI$Container$SysHelper$push,pull:UMP$UI$Container$SysHelper$pull,version:UMP$UI$Container$SysHelper$version},UMP.UI.Container.SysHelper.registerClass("UMP.UI.Container.SysHelper"),UM_Sys=new UMP.UI.Container.SysHelper,$js=UM_Sys,_$sys=UM_Sys,$sys=_$sys,CommonNativeCallService=function(){this.GetDeviceData="um_getDevicedata",this.GetUserData="um_getUserData",this.GetAppData="um_getAppData",this.GetAppConfigData="um_getAppConfigData",this.CallTel="um_CallTel",this.SendMsg="um_SendMsg",this.IsConnect="um_IsConnect",this.GetCurrentLanguage="um_GetCurrentLanguage",this.GetCurrentLocation="um_GetCurrentLocation",this.Store="um_Store",this.Restore="um_Restore",this._APIIsObsolete="the API is obsolete, but continue executing...please use the new API: "},CommonNativeCallService.prototype.callService=function(serviceType,jsonArgs,isSync){try{var serviceparams="";if("string"==typeof jsonArgs){var json=stringToJSON(jsonArgs);if("string"==typeof json)return void alert("调用服务["+serviceType+"]时参数不是一个有效的json字符串。参数是"+jsonArgs);if(serviceparams=jsonToString(json),"object"==typeof serviceparams)return void alert("调用服务["+serviceType+"]时传递的参数不能标准化为json字符串，请检查参数格式。参数是"+jsonArgs)}else{if("object"!=typeof jsonArgs)return void alert("调用$service.call("+serviceType+", jsonArgs, "+isSync+")时不合法,参数jsonArgs类型为"+typeof jsonArgs);if(jsonArgs.callback&&$isFunction(jsonArgs.callback)){for(var newCallBackScript="fun"+uuid(8,16)+"()";$__cbm[newCallBackScript];)newCallBackScript="fun"+uuid(8,16)+"()";$__cbm[newCallBackScript]=jsonArgs.callback,window[newCallBackScript.substring(0,newCallBackScript.indexOf("("))]=function(e,t){try{void 0==t&&(t=e);var r=$__cbm[newCallBackScript];r(e,t)}catch(n){alert(n)}finally{delete $__cbm[newCallBackScript],delete window[newCallBackScript.substring(0,newCallBackScript.indexOf("("))]}},jsonArgs.callback=newCallBackScript}else if(jsonArgs.callback&&"string"==typeof jsonArgs.callback){var cbName=jsonArgs.callback.substring(0,jsonArgs.callback.indexOf("(")),callbackFn=eval(cbName);if("function"!=typeof callbackFn)return void alert(cbName+" is not a global function, callback function must be a global function!");for(var newCallBackScript="fun"+uuid(8,16)+"()";window[newCallBackScript];)newCallBackScript="fun"+uuid(8,16)+"()";window[newCallBackScript.substring(0,newCallBackScript.indexOf("("))]=function(e,t){try{void 0==t&&(t=e),callbackFn(e,t)}catch(r){alert(r)}finally{delete window[newCallBackScript.substring(0,newCallBackScript.indexOf("("))]}},jsonArgs.callback=newCallBackScript}if(this.callBackProxy(jsonArgs,"error"),serviceparams=jsonToString(jsonArgs),"object"==typeof serviceparams)return void alert("调用服务["+serviceType+"]时传递的参数不能标准化为json字符串，请检查参数格式"+jsonArgs)}if(CurrentEnvironment.DeviceType==CurrentEnvironment.DeviceIOS)return isSync?UM_callNativeService(serviceType,serviceparams):UM_callNativeServiceNoraml(serviceType,serviceparams);if(CurrentEnvironment.DeviceType==CurrentEnvironment.DeviceAndroid)return isSync?adrinvoker.call2(serviceType,serviceparams):adrinvoker.call(serviceType,serviceparams);CurrentEnvironment.DeviceType==CurrentEnvironment.Debug?console.log("CurrentEnvironment.DeviceType == "+CurrentEnvironment.DeviceType+", 服务["+serviceType+"]已经执行，参数是"+serviceparams):alert("CurrentEnvironment.DeviceType == "+CurrentEnvironment.DeviceType+", $service.call Not Implementation!")}catch(e){var info="";info=isSync?'调用$service.call("'+serviceType+'", jsonArgs, '+isSync+")时发生异常,请检查!":'调用$service.call("'+serviceType+'", jsonArgs)时发生异常,请检查!',$console.log(info),alert(info+", 更多请查看console日志;\n错误堆栈信息为:\n"+e.stack)}},CommonNativeCallService.prototype.callBackProxy=function(jsonArgs,callback_KEY){if(jsonArgs[callback_KEY]&&$isFunction(jsonArgs[callback_KEY])){for(var newCallBackFnName=callback_KEY+uuid(8,16);$__cbm[newCallBackFnName];)newCallBackFnName=callback_KEY+uuid(8,16);$__cbm[newCallBackFnName]=jsonArgs[callback_KEY],window[newCallBackFnName]=function(e,t){try{void 0==t&&(t=e);var r=jsonArgs[callback_KEY];r(e,t)}catch(n){alert(n)}finally{delete $__cbm[newCallBackFnName],delete window[newCallBackFnName]}},jsonArgs[callback_KEY]=newCallBackFnName+"()"}else if(jsonArgs[callback_KEY]&&"string"==typeof jsonArgs[callback_KEY]){var cbName=jsonArgs[callback_KEY].substring(0,jsonArgs[callback_KEY].indexOf("(")),callbackFn=eval(cbName);if("function"!=typeof callbackFn)return void alert(cbName+" is not a global function, callback function must be a global function!");for(var newCallBackFnName=callback_KEY+uuid(8,16);window[newCallBackFnName];)newCallBackFnName=callback_KEY+uuid(8,16);window[newCallBackFnName]=function(e,t){try{void 0==t&&(t=e),callbackFn(e,t)}catch(r){alert(r)}finally{delete window[newCallBackFnName]}},jsonArgs[callback_KEY]=newCallBackFnName+"()"}},CommonNativeCallService.prototype.callAction=function(e,t,r,n,i,a,o){if(1==arguments.length&&"object"==typeof arguments[0]){var s={};s=e;var c={viewid:"xxx.xxx.xx",action:"methodName",autoDataBinding:!0,contextmapping:"fieldPath",callback:"actionid",error:"errorActionId"};for(key in s)c.hasOwnProperty(key)||"string"!=typeof s[key]||(s[key]=$stringToJSON(s[key]));return UM_NativeCall.callService("UMService.callAction",s,!1)}var s={};if(s.viewid=e,s.action=t,s.params=r,s.isDataCollect=n,s.callback=i,s.contextmapping=a,o)for(key in o)s[key]=o[key];return UM_NativeCall.callService("UMService.callAction",s)},CommonNativeCallService.prototype.store=function(e,t){$cache.write(e,t)},CommonNativeCallService.prototype.reStore=function(e){$cache.read(e)},CommonNativeCallService.prototype.getDeviceData=function(){return UM_callNativeService(this.GetDeviceData)},CommonNativeCallService.prototype.getUserData=function(){return UM_callNativeService(this.GetUserData)},CommonNativeCallService.prototype.getAppData=function(){return UM_callNativeService(this.GetAppData)},CommonNativeCallService.prototype.getAppConfigData=function(){return UM_callNativeService(this.GetAppConfigData)},CommonNativeCallService.prototype.writeConfig=function(e,t){var r={};if(1==arguments.length&&$isJSONObject(arguments[0]))r=e;else{if(2!=arguments.length)return void alert("writeConfig时,参数不合法");r[e]=t}UM_NativeCall.callService("UMService.writeConfigure",r)},CommonNativeCallService.prototype.loadConfig=function(e,t){var r={};if(1==arguments.length&&$isJSONObject(arguments[0]))r=e;else{if(2!=arguments.length||"string"!=typeof e||"string"!=typeof t)return void alert("调用$service.loadConfig("+typeof e+", "+typeof t+")时参数有误！");r[e]=t}return UM_NativeCall.callService("UMService.loadConfigure",r,!0)},CommonNativeCallService.prototype.readConfig=function(e){var t={};return"string"!=typeof e?void alert("readConfig时，不支持参数[name]的参数类型为"+typeof e):(t[e]=e,UM_NativeCall.callService("UMService.readConfigure",t,!0))},CommonNativeCallService.prototype.login=function(e,t){return UM_NativeCall.callService("UMService.login",'{"username":"'+e+'","passwd":"'+t+'"}')},CommonNativeCallService.prototype.transInfoService=function(e,t,r){var n={};return n.infoid=e,n.binderfiled=t,null!=r&&(n.transtype=r),$service.call("UMService.transInfoService",$jsonToString(n))},CommonNativeCallService.prototype.get=function(e){return $isJSONObject(e)?e.url?$service.call("UMService.get",e,!1):void alert("请输入请求的url"):void alert("参数不是有效的JSONObject")},CommonNativeCallService.prototype.post=function(e){return $isJSONObject(e)?e.url?$service.call("UMService.post",e,!1):void alert("请输入请求的url"):void alert("参数不是有效的JSONObject")},UM_NativeCall=new CommonNativeCallService,$service=UM_NativeCall,$service.call=UM_NativeCall.callService,ControlsHelper=function(){},ControlsHelper.prototype.get=function(e){return this._cid=e,this},ControlsHelper.prototype.set=function(e,t){CurrentEnvironment.DeviceType==CurrentEnvironment.DeviceIOS?UM_setControlAttribute(this._cid,e,t):adrinvoker.call("UMJS.setProperty","{id:'"+this._cid+"',"+e+":'"+t+"'}")},ControlsHelper.prototype.call=function(e,t){CurrentEnvironment.DeviceType==CurrentEnvironment.DeviceIOS?UM_callControlMethod(this._cid,e,t):alert("No Implementation");
},UM_Controls=new ControlsHelper,Type.registerNamespace("UMP.Services"),UMP.Services.Controls=function(){},UMP.Services.Controls.prototype={get:UMP$Services$Controls$get,set:UMP$Services$Controls$set,insert:UMP$Services$Controls$insert,focus:UMP$Services$Controls$focus,blur:UMP$Services$Controls$blur,invoke:UMP$Services$Controls$invoke},UMP.Services.Controls.registerClass("UMP.Services.Controls");var $controls=new UMP.Services.Controls;Type.registerNamespace("UMP.UI.Container"),UMP.UI.Container.Dom=function(){},UMP.UI.Container.Dom.prototype={set:UMP$UI$Container$Dom$set,push:UMP$UI$Container$Dom$push,pull:UMP$UI$Container$Dom$pull},UMP.UI.Container.Dom.registerClass("UMP.UI.Container.Dom");var $dom=new UMP.UI.Container.Dom;callbackMap=new Map,MessagePool=function(){this.Message=new Array,this.ErrorMessage=new Array,this.MessageLevel={},this.MessageLevel.All=-1,this.MessageLevel.Warnning=1,this.MessageLevel.Error=2},MessagePool.prototype.log=function(e,t){e==this.MessageLevel.Error?this.ErrorMessage.push(t):this.Message.push(t)},MessagePool.prototype.getErrorMessage=function(){for(var e="[",t=0;t<this.ErrorMessage.length;t++)e+=t==this.ErrorMessage.length-1?'"'+this.ErrorMessage.shift()+'"':'"'+this.ErrorMessage.shift()+'",';return e+="]"},MessagePool.prototype.getWarnningMessage=function(){for(var e="[",t=0;t<this.Message.length;t++)e+=t==this.Message.length-1?this.Message.shift():this.Message.shift()+",";return e+="]"},MessagePool.prototype.getMessage=function(e){var t;if(e==this.MessageLevel.Error)t=this.getErrorMessage();else if(e==this.MessageLevel.All){var r=this.getErrorMessage(),n=this.getWarnningMessage();t='{"error":'+r+',"warnning":'+n+"}"}else t=this.getWarnningMessage();return t},messagePool=new MessagePool,RequestContext=function(){this.Source="",this.Key=""},CommonCRUD=function(){},CommonCRUD.prototype.loadModel=function(e,t){$UMP$getMM().set(e,t)},CommonCRUD.prototype.dispacherCallbackHandler=function(e,t){alert(e),callbackMap.get(t).call(this,e)},CommonCRUD.prototype.callService=function(e,t,r,n,i){n.Key=e+t+n.Source,callbackMap.put(n.Key,i),UM_CallRemoteService(e,t,r,n.Source,n.Key)},commonService=new CommonCRUD,Controllers={},Type.registerNamespace("UMP.Services"),UMP.Services.Calendar=function(){this._getToToday="UMCalendar.getToToday",this._getMonthChange="UMCalendar.getMonthChange",this._getDayChange="UMCalendar.getDayChange",this._getCalendarTitle="UMCalendar.getCalendarTitle"},UMP.Services.Calendar.prototype={getToToday:UMP$Services$Calendar$getToToday,getMonthChange:UMP$Services$Calendar$getMonthChange,getDayChange:UMP$Services$Calendar$getDayChange,getCalendarTitle:UMP$Services$Calendar$getCalendarTitle},UMP.Services.Calendar.registerClass("UMP.Services.Calendar");var $calendar=new UMP.Services.Calendar;Type.registerNamespace("UMP.UI.Container"),UMP.UI.Container.UMCtx=function(){this._UMCtx_dataBind="UMCtx.dataBind",this._UMCtx_dataCollect="UMCtx.dataCollect",this._UMCtx_getValue="UMCtx.getValue",this._UMCtx_setValue="UMCtx.setValue",this._UMCtx_setUMContext="UMCtx.setUMContext",this._UMCtx_setAppValue="UMCtx.setAppValue"},UMP.UI.Container.UMCtx.prototype={push:UMP$UI$Container$UMCtx$push,dataBind:UMP$UI$Container$UMCtx$dataBind,databind:UMP$UI$Container$UMCtx$dataBind,dataCollect:UMP$UI$Container$UMCtx$dataCollect,datacollect:UMP$UI$Container$UMCtx$dataCollect,get:UMP$UI$Container$UMCtx$get,put:UMP$UI$Container$UMCtx$put,put2:UMP$UI$Container$UMCtx$put2,getString:UMP$UI$Container$UMCtx$getString,getJSONObject:UMP$UI$Container$UMCtx$getJSONObject,getJSONArray:UMP$UI$Container$UMCtx$getJSONArray,param:UMP$UI$Container$UMCtx$param,params:UMP$UI$Container$UMCtx$params,setApp:UMP$UI$Container$UMCtx$setApp,getApp:UMP$UI$Container$UMCtx$getApp,_expr:function(e){return 0==arguments.length||void 0==e||""==e?"#{CONTEXT}":"#{"+e+"}"},_getValue:UMP$UI$Container$UMCtx$_getValue,_setValue:UMP$UI$Container$UMCtx$_setValue,_getValue4debug:UMP$UI$Container$UMCtx$_getValue4debug,_setValue4debug:UMP$UI$Container$UMCtx$_setValue4debug,_setUMContext:UMP$UI$Container$UMCtx$_setUMContext,_setUMContext4debug:UMP$UI$Container$UMCtx$_setUMContext4debug,_setAppValue:UMP$UI$Container$UMCtx$_setAppValue},UMP.UI.Container.UMCtx.registerClass("UMP.UI.Container.UMCtx"),$ctx=new UMP.UI.Container.UMCtx,Type.registerNamespace("UMP.UI.Container"),UMP.UI.Container.UMCtxParameter=function(e){this._ctx=e},UMP.UI.Container.UMCtxParameter.prototype={get:UMP$UI$Container$UMCtxParameter$get,getString:UMP$UI$Container$UMCtxParameter$getString,getJSONObject:UMP$UI$Container$UMCtxParameter$getJSONObject,getJSONArray:UMP$UI$Container$UMCtxParameter$getJSONArray,ctx:UMP$UI$Container$UMCtxParameter$ctx},UMP.UI.Container.UMCtxParameter.registerClass("UMP.UI.Container.UMCtxParameter"),$parameter=new UMP.UI.Container.UMCtxParameter($ctx),$param=$parameter,$__isdebug=function(){return CurrentEnvironment.DeviceType==CurrentEnvironment.Debug},$$__debug_ctx=function(){},Type.registerNamespace("UMP.Services"),UMP.Services.Cache=function(){this._store="um_Store",this._restore="um_Restore"};var ___cache_UIState={};UMP.Services.Cache.prototype={get:UMP$Services$Cache$get,set:UMP$Services$Cache$set,push:UMP$Services$Cache$set,write2:UMP$Services$Cache$write2,read2:UMP$Services$Cache$read2,write:UMP$Services$Cache$writeFile,read:UMP$Services$Cache$readFile,writeFile:UMP$Services$Cache$writeFile,readFile:UMP$Services$Cache$readFile,remove:function(e){return $file.remove.apply(this,arguments)},removeItem:function(e){return $file.remove.apply(this,arguments)},getItem:function(e){return this.readFile(e)},setItem:function(e,t){return this.writeFile(e,t)}},UMP.Services.Cache.registerClass("UMP.Services.Cache"),$cache=new UMP.Services.Cache,$localStorage=$cache,$localStore=$cache,Type.registerNamespace("UMP.Services"),UMP.Services.Sqlite=function(){this.UMSQLite_execSql="UMSQLite.execSql",this.UMSQLite_query="UMSQLite.query",this.UMSQLite_queryByPage="UMSQLite.queryByPage",this.UMSQLite_exist="UMSQLite.exist",this.UMSQLite_openDB="UMSQLite.openDB"},UMP.Services.Sqlite.prototype={open:function(e){return this.openOrCreateDB(e)},openOrCreateDB:function(e){return $isJSONObject(e)&&$isEmpty(e.db)?$service.call(this.UMSQLite_openDB,e,!1):void alert("参数不是一个有效的JSONObject，请确保参数是一个有效的JSON且含有db键值")},openDB:function(e){return $isJSONObject(e)&&$isEmpty(e.db)?$service.call(this.UMSQLite_openDB,e,!1):void alert("参数不是一个有效的JSONObject，请使用openDB({...})形式的API")},execSql:UMP$Services$Sqlite$execSql,query:UMP$Services$Sqlite$query,queryByPage:UMP$Services$Sqlite$queryByPage,exist:UMP$Services$Sqlite$exist},UMP.Services.Sqlite.registerClass("UMP.Services.Sqlite");var $sqlite=new UMP.Services.Sqlite;Type.registerNamespace("UMP.Services"),UMP.Services.Network=function(){this.um_IsConnect="um_IsConnect",this.UMNetwork_isAvailable="UMNetwork.isAvailable",this.UMNetwork_networkState="UMNetwork.networkState",this.UMNetwork_getNetworkInfo="UMNetwork.getNetworkInfo"},UMP.Services.Network.prototype={isConnect:UMP$Services$Network$isConnect,available:UMP$Services$Network$available,isAvailable:UMP$Services$Network$available,networkState:UMP$Services$Network$networkState,getNetworkInfo:UMP$Services$Network$getNetworkInfo},UMP.Services.Network.registerClass("UMP.Services.Network");var $net=new UMP.Services.Network;"undefined"==typeof __debugger&&(__debugger=!1),UMP.Services.Console=function(){},UMP.Services.Console.prototype={log:UMP$Services$Console$log,alert:UMP$Services$Console$alert},UMP.Services.Console.registerClass("UMP.Services.Console"),$console=new UMP.Services.Console,Type.registerNamespace("UMP.Services"),UMP.Services.Resource=function(){this._getResString="um_getResString"},UMP.Services.Resource.prototype={getResString:UMP$Services$Resource$getResString},UMP.Services.Resource.registerClass("UMP.Services.Resource"),$res=new UMP.Services.Resource,UMP.Services.UMView=function(){},UMP.Services.UMView.prototype={open:UMP$Services$UMView$open,open2:UMP$Services$UMView$open2,close:UMP$Services$UMView$close,closeWithCallBack:UMP$Services$UMView$closeWithCallBack,launcher:UMP$Services$UMView$launcher,openPop:UMP$Services$UMView$openPop,closePop:UMP$Services$UMView$closePop,openDialog:UMP$Services$UMView$openDialog,openReference:UMP$Services$UMView$openReference,openPicker:UMP$Services$UMView$openPicker,alert:UMP$Services$UMView$alert,confirm:UMP$Services$UMView$confirm,changePage:UMP$Services$UMView$changePage},UMP.Services.UMView.registerClass("UMP.Services.UMView"),$view=new UMP.Services.UMView,UMP.Services.UMWindow=function(){},UMP.Services.UMWindow.prototype={showModalDialog:UMP$Services$UMWindow$showModalDialog,close:UMP$Services$UMWindow$close},UMP.Services.UMWindow.registerClass("UMP.Services.UMWindow"),$window=new UMP.Services.UMWindow,UMP.Services.UMDevice=function(){this._UMDevice_getDeviceInfo="UMDevice.getDeviceInfo",this._UMDevice_captureTwodcode="UMDevice.captureTwodcode",this._deviceInfo_Screen=null},UMP.Services.UMDevice.prototype={getTimeZoneID:UMP$Services$UMDevice$getTimeZoneID,getTimeZoneDisplayName:UMP$Services$UMDevice$getTimeZoneDisplayName,getDeviceInfo:UMP$Services$UMDevice$getDeviceInfo,captureTwodcode:UMP$Services$UMDevice$captureTwodcode,getLocation:UMP$Services$UMDevice$getLocation,openscan:UMP$Services$UMDevice$captureTwodcode,capturePhoto:UMP$Services$UMDevice$capturePhoto,getAlbumPath:UMP$Services$UMDevice$getAlbumPath,getAppAlbumPath:UMP$Services$UMDevice$getAppAlbumPath,generateQRCode:UMP$Services$UMDevice$generateQRCode,sendMail:UMP$Services$UMDevice$sendMail,saveContact:UMP$Services$UMDevice$saveContact,getContacts:UMP$Services$UMDevice$getContacts,openAddressBook:UMP$Services$UMDevice$openAddressBook,getInternalMemoryInfo:UMP$Services$UMDevice$getInternalMemoryInfo,getExternalStorageInfo:UMP$Services$UMDevice$getExternalStorageInfo,getMemoryInfo:UMP$Services$UMDevice$getMemoryInfo,gotoMapView:UMP$Services$UMDevice$gotoMapView,openWebView:UMP$Services$UMDevice$openWebView,screenShot:UMP$Services$UMDevice$screenShot,notify:UMP$Services$UMDevice$notify,getScreenWidth:UMP$Services$UMDevice$getScreenWidth,getScreenHeight:UMP$Services$UMDevice$getScreenHeight,getScreenDensity:UMP$Services$UMDevice$getScreenDensity,currentOrientation:UMP$Services$UMDevice$currentOrientation},UMP.Services.UMDevice.registerClass("UMP.Services.UMDevice"),$device=new UMP.Services.UMDevice,$umdevice=$device,Type.registerNamespace("UMP.Services"),UMP.Services.Badge=function(){},UMP.Services.Badge.prototype={showBadge:UMP$Services$Badge$showBadge,hideBadge:UMP$Services$Badge$hideBadge},UMP.Services.Badge.registerClass("UMP.Services.Badge"),$badge=new UMP.Services.Badge,Type.registerNamespace("UMP.Services"),UMP.Services.Telephone=function(){this._SAVECONTACT="um_saveContact",this._CALLTEL="um_CallTel",this._SENDMSG="um_SendMsg",this._SENDEMAIL="um_SendEmail"},UMP.Services.Telephone.prototype={call:UMP$Services$Telephone$call,sendMsg:UMP$Services$Telephone$sendMsg,sendMail:UMP$Services$Telephone$sendMail,saveContact:UMP$Services$Telephone$saveContact},UMP.Services.Telephone.registerClass("UMP.Services.Telephone"),$tel=new UMP.Services.Telephone,Type.registerNamespace("UMP.Services"),UMP.Services.UMPush=function(){},UMP.Services.UMPush.prototype={registerDevice:UMP$Services$UMPush$registerDevice,removeDevice:UMP$Services$UMPush$removeDevice},UMP.Services.UMPush.registerClass("UMP.Services.UMPush"),$upush=new UMP.Services.UMPush,Type.registerNamespace("UMP.Services"),UMP.Services.Vibrator=function(){},UMP.Services.Vibrator.prototype={vibrate:UMP$Services$Vibrator$vibrate},UMP.Services.Vibrator.registerClass("UMP.Services.Vibrator"),$vibrator=new UMP.Services.Vibrator,UMP.Services.UMGraphics=function(){},UMP.Services.UMGraphics.prototype={watermark:function(e){return $service.call("UMGraphics.watermark",e,!1)}},UMP.Services.UMGraphics.registerClass("UMP.Services.UMGraphics"),$graphics=new UMP.Services.UMGraphics,Type.registerNamespace("UMP.UI.Container"),UMP.UI.Container.UMCamera=function(){this._UMDevice_openCamera="UMDevice.openCamera",this._UMDevice_openPhotoAlbum="UMDevice.openPhotoAlbum"},UMP.UI.Container.UMCamera.prototype={open:UMP$UI$Container$UMCamera$open,openPhotoAlbum:UMP$UI$Container$UMCamera$openPhotoAlbum},UMP.UI.Container.UMCamera.registerClass("UMP.UI.Container.UMCamera"),$camera=new UMP.UI.Container.UMCamera,Type.registerNamespace("UMP.UI.Container"),UMP.UI.Container.UMScanner=function(){this._UMDevice_captureTwodcode="UMDevice.captureTwodcode",this._UMDevice_createTwocodeImage="UMDevice.createTwocodeImage"},UMP.UI.Container.UMScanner.prototype={open:UMP$UI$Container$UMScanner$open,generateQRCode:UMP$UI$Container$UMScanner$generateQRCode},UMP.UI.Container.UMScanner.registerClass("UMP.UI.Container.UMScanner"),$scanner=new UMP.UI.Container.UMScanner,Type.registerNamespace("UMP.Services"),UMP.Services.UMJS=function(){this._UMCtx_dataBind="UMCtx.dataBind",this._UMCtx_getValue="UMCtx.getValue",this._UMCtx_setValue="UMCtx.setValue",this._UMCtx_setUMContext="UMCtx.setUMContext",this._UMCtx_setAppValue="UMCtx.setAppValue"},UMP.Services.UMJS.prototype={getTimeTicks:UMP$Services$UMJS$getTimeTicks,randomUUID:UMP$Services$UMJS$randomUUID,urlDecode:UMP$Services$UMJS$urlDecode,urlEncode:UMP$Services$UMJS$urlEncode,showLoadingBar:UMP$Services$UMJS$showLoadingBar,hideLoadingBar:UMP$Services$UMJS$hideLoadingBar,toast:UMP$Services$UMJS$toast,refresh:UMP$Services$UMJS$refresh,runjs:UMP$Services$UMJS$runjs,backConfirm:UMP$Services$UMJS$backConfirm},UMP.Services.UMJS.registerClass("UMP.Services.UMJS"),$js=new UMP.Services.UMJS,$toast=$js.toast,UMP.Services.UMEncryption=function(){},UMP.Services.UMEncryption.prototype={md5HexUtf8:UMP$Services$UMEncryption$md5HexUtf8,md5:UMP$Services$UMEncryption$md5HexUtf8},UMP.Services.UMEncryption.registerClass("UMP.Services.UMEncryption"),$encryption=new UMP.Services.UMEncryption,UMP.Services.UMWXShare=function(){},UMP.Services.UMWXShare.prototype={init:UMP$Services$UMWXShare$init,sendText:UMP$Services$UMWXShare$sendText,sendImage:UMP$Services$UMWXShare$sendImage,sendTextandImage:UMP$Services$UMWXShare$sendTextandImage},UMP.Services.UMWXShare.registerClass("UMP.Services.UMWXShare"),$wxshare=new UMP.Services.UMWXShare,Type.registerNamespace("UMP.UI.Container"),UMP.UI.Container.UMAnimation=function(){},UMP.UI.Container.UMAnimation.prototype={show:UMP$UI$Container$UMAnimation$show,hidden:UMP$UI$Container$UMAnimation$hidden,animate:UMP$UI$Container$UMAnimation$animate},UMP.UI.Container.UMAnimation.registerClass("UMP.UI.Container.UMAnimation"),$anim=new UMP.UI.Container.UMAnimation,UMP.Services.UMFile=function(){this._downloadFile="UMService.downloadFile",this._UMFile_upload="UMFile.upload",this._UMFile_download="UMFile.download"},UMP.Services.UMFile.prototype={downloadFile:UMP$Services$UMFile$downloadFile,upload:UMP$Services$UMFile$upload,download:UMP$Services$UMFile$download,writeFile:UMP$Services$UMFile$writeFile,write:UMP$Services$UMFile$write,remove:UMP$Services$UMFile$remove,getFileInfo:UMP$Services$UMFile$getFileInfo,open:UMP$Services$UMFile$open,ftpUpload:UMP$Services$UMFile$ftpUpload,ftpDownload:UMP$Services$UMFile$ftpDownload},UMP.Services.UMFile.registerClass("UMP.Services.UMFile"),$file=new UMP.Services.UMFile,UMP.Services.UAPappStore=function(){},UMP.Services.UAPappStore.prototype={updateAPP:UMP$Services$UAPappStore$updateAPP},UMP.Services.UAPappStore.registerClass("UMP.Services.UAPappStore"),$UAPappStore=new UMP.Services.UAPappStore,UMP.Services.Menu=function(){},UMP.Services.Menu.prototype={openDropDownList:UMP$Services$Menu$openDropDownList},UMP.Services.Menu.registerClass("UMP.Services.Menu"),$menu=new UMP.Services.Menu,UMP.Services.Validator=function(){},UMP.Services.Validator.prototype={check:UMP$Services$Validator$check,checkIfExist:UMP$Services$Validator$checkIfExist,isJSONObject:UMP$Services$Validator$isJSONObject,isNamespace:UMP$Services$Validator$isNamespace},UMP.Services.Validator.registerClass("UMP.Services.Validator"),$validator=new UMP.Services.Validator,Type.registerNamespace("UMP.Services"),UMP.Services.DebugMgr=function(){this._jsList={},this._del={},this._body=null,this._debugArea=null},UMP.Services.DebugMgr.prototype={reg:function(e,t,r){if(!this._del[e]){this._jsList[e]=r;var n=document.createElement("li"),i=document.createElement("button");i.innerHTML="点击此时可以调试>> "+t,i.onclick=r,n.style+="margin:10px",n.appendChild(i),this.getDebugArea().appendChild(n)}},clear:function(){for(key in this._jsList){this._del[key]="deleted";var e=document.querySelector("#"+key),t=e.parentNode;e.innerHTML="",t.removeChild(e)}this._jsList={},this.getDebugArea().innerHTML=""},insertJS:function(e,t){var r=document.createElement("script");r.innerHTML=t,r.id=e,r.um_id=e,this.getDebugArea().appendChild(r)},getBody:function(){return null==this._body&&(document?this._body=document.querySelector("body"):alet("no exist document, pls check it ?")),this._body},getDebugArea:function(){return null==this._debugArea&&(document?(this._debugArea=document.createElement("ul"),this.getBody().appendChild(this._debugArea)):alet("no exist document, pls check it ?")),this._debugArea}},UMP.Services.DebugMgr.registerClass("UMP.Services.DebugMgr"),$debugMgr=new UMP.Services.DebugMgr,Type.registerNamespace("UMP.UI.Mvc"),UMP.UI.Mvc.Router=function(){};var __debugger=!0;UMP.UI.Mvc.Router.prototype={route:UMP$UI$Mvc$Router$route,eval:UMP$UI$Mvc$Router$eval,debug:UMP$UI$Mvc$Router$debug},UMP.UI.Mvc.Router.registerClass("UMP.UI.Mvc.Router"),"undefined"==typeof $router&&($router=new UMP.UI.Mvc.Router),Type.registerNamespace("UMP.UI.Mvc"),UMP.UI.Mvc.ControllerBase=function UMP$UI$Mvc$ControllerBase(args){if(this._controller=null,args){var context=args.context,controller=args.controller,namespace=args.namespace,controllerFullName=eval(namespace+"."+controller),cT=eval(controllerFullName);cT?(this._controller=UM.__getInstance(cT),cT.initializeBase&&cT.initializeBase(this._controller)):alert("please check the js file["+controllerFullName+".js], it probably has some syntax wrong.")}},UMP.UI.Mvc.ControllerBase.prototype={execute:UMP$UI$Mvc$ControllerBase$execute,execMethod:UMP$UI$Mvc$ControllerBase$execMethod},UMP.UI.Mvc.ControllerBase.registerClass("UMP.UI.Mvc.ControllerBase"),Type.registerNamespace("UMP.UI.Mvc"),UMP.UI.Mvc.Controller=function(e){},UMP.UI.Mvc.Controller.prototype={method:UMP$UI$Mvc$Controller$method,eval:UMP$UI$Mvc$Controller$eval},UMP.UI.Mvc.Controller.registerClass("UMP.UI.Mvc.Controller"),UM.__controller=new UMP.UI.Mvc.Controller,function(e,t){UM=e.UM||{},UM._inherit=function(){var e=function(){};return function(t,r){e.prototype=r.prototype,t.prototype=new e,t.base=r.prototype,t.prototype.constructor=t}}(),UM.EventMgr=function(){this._events={}},UM.EventMgr.prototype.on=function(e,t){null==this._events[e]&&(this._events[e]=[]),this._events[e].push(t)},UM.EventMgr.prototype.off=function(e,t){var r=this._events[e];if("undefined"==typeof t)delete r;else{for(var n=-1,i=0,a=r.length;i<a;i++)if(t==r[i]){n=i;break}n>0&&r.remove(n)}},UM.EventMgr.prototype.trigger=function(e,t,r){try{var n,i=this._events[e]||[];r=r||{};for(var a=0,o=i.length;a<o;a++)(n=i[a])(t,r)}catch(s){alert(s)}},UM.NativeContainer=function(){this._eventMgr=new UM.EventMgr},UM.NativeContainer.prototype.onReady=function(e){this._eventMgr.on("ready",e)},UM.NativeContainer.prototype.on=function(e,t){this._eventMgr.on(e,t)},UM.NativeContainer.prototype.off=function(e,t){this._eventMgr.off(e,t)},UM.NativeContainer.prototype.trigger=function(e,t,r){this._eventMgr.trigger(e,t,r)},UM.nativeContainer=new UM.NativeContainer}(window),function(e,t){function r(){}e.UM||(e.UM={}),r.prototype.watermark=function(e){if(e&&"object"==typeof e){var t,r,n=this,i=document.getElementById("test"),a=i.getContext("2d"),o="";e.src&&e.target&&"string"==typeof e.src&&"string"==typeof e.target&&("string"!=typeof e.watermark&&(e.watermark=""),"object"==typeof e.watermarkStyle&&null!=e.watermarkStyle||(e.watermarkStyle={}),e.text=e.text||"","object"==typeof e.textStyle&&null!=e.textStyle||(e.textStyle={}),r=e.target.substr(e.target.lastIndexOf(".")+1)||"png",t=document.createElement("img"),t.src=e.src,t.onload=function(){var s=t.width,c=t.height;i.setAttribute("width",s),i.setAttribute("height",c),a.drawImage(t,0,0);try{e.text&&n.addText(i,e.text,e.textStyle),e.watermark?n.addWatermark(i,e.watermark,e.watermarkStyle,function(t){o=n.execImageURL(t,r),n.saveImageLocal(o,e.target)}):(o=n.execImageURL(i,r),n.saveImageLocal(o,e.target))}catch(l){alert(l.name+l.message)}})}},r.prototype.addText=function(e,t,r){var n=e.getAttribute("width"),i=e.getAttribute("height"),a=e.getContext("2d"),o=r.left||10,s=r.right,c=r.top,l=r.bottom||10;o||(a.textAlign="end"),c||(a.textBaseline="bottom"),o=o||n-s,c=c||i-l,a.font=(r.fontSize||14)+"px "+(r.fontFamily||"黑体"),a.fillStyle=r.color||"black",a.fillText(t,o,c)},r.prototype.addWatermark=function(e,t,r,n){var i=e.getAttribute("width"),a=e.getAttribute("height"),o=e.getContext("2d"),s=r.left,c=r.top,l=r.width,v=r.height,u=document.createElement("img");u.src=t,u.onload=function(){var t=u.width,$=u.height;watermarkWHRatio=t/$,!v&&l&&(v=l/watermarkWHRatio),!l&&v&&(l=v*watermarkWHRatio),l&&v||(l=t,v=$),s=s||"right"in r&&i-l-r.right||i-l-10,c=c||"bottom"in r&&a-v-r.bottom||a-v-10,o.drawImage(u,s,c,l,v),"function"==typeof n&&n(e)}},r.prototype.execImageURL=function(e,t){t="image/"+t;var r=e.toDataURL(t);return r},r.prototype.saveImageLocal=function(e,t){var r=document.createElement("a"),n=document.createEvent("HTMLEvents");n.initEvent("click",!1,!1),r.download=t,r.href=e,r.dispatchEvent(n)};var n=null,i={watermark:function(e){try{n instanceof r||(n=new waterMark),n.watermark(e)}catch(t){console.warn(t.name+":"+t.message)}}};return e.UM.Graphics=i,e.UM.Graphics}(window);